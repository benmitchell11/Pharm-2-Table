/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@progress/kendo-react-common"),require("@progress/kendo-date-math"),require("@progress/kendo-react-intl"),require("@progress/kendo-react-buttons"),require("@progress/kendo-svg-icons"),require("@progress/kendo-react-labels"),require("@progress/kendo-react-popup"),require("@progress/kendo-react-layout")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@progress/kendo-react-common","@progress/kendo-date-math","@progress/kendo-react-intl","@progress/kendo-react-buttons","@progress/kendo-svg-icons","@progress/kendo-react-labels","@progress/kendo-react-popup","@progress/kendo-react-layout"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoReactDateinputs={},e.React,e.PropTypes,e.KendoReactCommon,e.KendoDateMath,e.KendoReactIntl,e.KendoReactButtons,e.KendoSvgIcons,e.KendoReactLabels,e.KendoReactPopup,e.KendoReactLayout)}(this,(function(e,t,i,s,a,n,o,r,l,h,d){"use strict";function c(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var u=c(t);const p={name:"@progress/kendo-react-dateinputs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1617189075,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"};let m=class{constructor(e=0,t,i){this.total=e,this.rowHeight=t,this.detailRowHeight=i,this.offsets=[],this.heights=[];let s=0;for(let i=0;i<e;i++)this.offsets.push(s),s+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}index(e){for(let t=0;t<this.offsets.length;t++){if(e===this.offsets[t])return t;if(e<this.offsets[t])return t-1}return this.total-1}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce(((e,t)=>e+t),0)}updateRowHeight(e,t){this.heights[e]+=t,this.offsets=((e,t,i)=>[...e.slice(0,t+1),...e.slice(t+1).map((e=>e+i))])(this.offsets,e,t)}};const g=e=>Math.max(e,0);let v=class{constructor(e){this.offset=e}},f=class{constructor(e){this.skip=e}},w=class{constructor(e,t){this.onScrollAction=e,this.onPageAction=t,this.direction="vertical",this.firstLoaded=0,this.lastLoaded=0,this.lastScrollTop=0,this.take=0,this.total=0,this.rowHeightService=null,this.bottomOffset=0,this.topOffset=0}create(e,t,i,s,a=0,n=0,o="vertical"){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=s,this.lastScrollTop=0,this.topOffset=a,this.bottomOffset=n,this.direction=o;const r=this.rowsForHeight(a),l=g(t-r);this.onScrollAction(new v(this.rowOffset(l))),this.onPageAction(new f(l))}onScroll({scrollLeft:e,scrollTop:t,offsetHeight:i,offsetWidth:s}){const a="vertical"===this.direction?t:e,n="vertical"===this.direction?i:s;if(this.lastScrollTop===a||!this.rowHeightService)return;const o=this.lastScrollTop>=a;this.lastScrollTop=a;const r=this.rowHeightService.index(g(a-this.topOffset)),l=this.rowHeightService.index(g(a+n-this.bottomOffset));if(!o&&l>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=r,this.onScrollAction(new v(this.rowOffset(r))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new f(this.firstLoaded))),o&&r<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=g(r-e),this.onScrollAction(new v(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new f(this.firstLoaded))}}rowOffset(e){return this.rowHeightService?this.rowHeightService.offset(e)+this.topOffset:0}rowsForHeight(e){return this.rowHeightService?Math.ceil(e/this.rowHeightService.height(0)):0}};const b={1:e=>t=>t+e,0:e=>t=>t-e},D={1:e=>t=>Math.min(t,e),0:e=>t=>Math.max(t,e)},y={1:e=>t=>t<e,0:e=>t=>t>e},k=class e extends u.Component{constructor(t){super(t),this.rowHeightService=null,this.scrollContainer=null,this.lastDirection=null,this.lastTotal=0,this.lastTake=0,this.animationInProgress=!1,this.restrictScroll=!1,this.scrollTo=e=>{const t="vertical"===this.direction?"scrollTop":"scrollLeft";if(!this.scrollContainer)return;const i=this.scrollContainer[t];this.restrictScroll&&"scrollTop"===t&&(!Number.isInteger(i)||!Number.isInteger(e))&&Math.abs(i-e)<10||(this.scrollContainer[t]=e)},this.scrollToIndex=e=>{this.animationInProgress=!1,this.rowHeightService&&this.scrollTo(this.rowHeightService.offset(e))},this.animateToIndex=e=>{if(!this.rowHeightService||!window)return;window.cancelAnimationFrame(this.cancelAnimation);const t=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(t);let{start:s,end:a}=this.scrollRange(t,i);if(s===a)return;const n=this.scrollStep(s,a),o=b[i](n),r=D[i](a),l=y[i](o(a)),h=e=>{this.animationInProgress=!0;const t=o(e);this.scrollTo(r(t)),l(t)?this.cancelAnimation=window.requestAnimationFrame((()=>{h(t)})):this.animationInProgress=!1};this.cancelAnimation=window.requestAnimationFrame((()=>{h(s)}))},this.scrollToBottom=()=>{this.rowHeightService&&this.scrollTo(this.rowHeightService.totalHeight()+this.props.bottomOffset)},this.scrollStep=(t,i)=>{const s=this.props.scrollDuration||e.defaultProps.scrollDuration;return Math.abs(i-t)/(s/17)},this.scrollRange=(e,t)=>{const i=this.containerScrollPosition;if(parseInt(`${e}`,10)===parseInt(`${i}`,10))return{start:e,end:e};const s=this.containerMaxScroll(),a=0===t?1:-1,n=((e,t,i)=>Math.min(Math.abs(t-e),i))(i,e,this.props.maxScrollDifference||0),o=Math.min(e,s);return{start:Math.min(Math.max(o+a*n,0),s),end:o}},this.containerMaxScroll=()=>this.containerScrollSize-this.containerOffsetSize,this.getContainerScrollDirection=e=>e<this.containerScrollPosition?0:1,this.initServices=(e=this.props)=>{const t="vertical"===this.direction?e.itemHeight:e.itemWidth;void 0!==t&&(this.rowHeightService=new m(e.total,t,0),this.scrollerService.create(this.rowHeightService,e.skip,e.take,e.total,e.topOffset,this.scrollOffsetSize,this.direction))},this.getContainerProperty=e=>this.scrollContainer?this.scrollContainer[e]:0,this.handleScroll=e=>{if(!this.scrollContainer||!this.rowHeightService)return;const t=e.target;this.scrollerService.onScroll({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,offsetHeight:t.offsetHeight,offsetWidth:t.offsetWidth});const i=this.rowHeightService.index(this.containerScrollPosition-this.props.topOffset),{onScrollAction:s}=this.props,a={index:i,target:t,scrollAction:this.scrollAction,pageAction:this.pageAction,animationInProgress:this.animationInProgress};this.props.onScroll&&this.props.onScroll.call(void 0,e),s&&s.call(void 0,a),this.scrollAction=void 0,this.pageAction=void 0},this.handleScrollAction=e=>{this.scrollAction=e},this.handlePageAction=e=>{this.pageAction=e},this.scrollerService=new w(this.handleScrollAction,this.handlePageAction),this.restrictScroll=Number.parseFloat(u.version)>17}get element(){return this.scrollContainer}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get direction(){return void 0!==this.props.direction?this.props.direction:e.defaultProps.direction}get scrollOffsetSize(){return void 0!==this.props.scrollOffsetSize?this.props.scrollOffsetSize:e.defaultProps.scrollOffsetSize}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService?this.rowHeightService.index(e):0}itemOffset(e){return this.rowHeightService?this.rowHeightService.offset(e):0}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,i=t+this.containerOffsetSize,s=this.rowHeightService.offset(e),a=s+this.rowHeightService.height(e);return s>=t&&a<=i}isListScrolled(e){return!!this.rowHeightService&&this.containerScrollPosition!==this.rowHeightService.offset(e)}componentDidMount(){const{onMount:e}=this.props;e&&e.call(void 0,this)}render(){(this.lastTotal!==this.props.total||this.lastDirection!==this.direction||this.lastTake!==this.props.take)&&(this.initServices(),this.lastTotal=this.props.total,this.lastDirection=this.direction,this.lastTake=this.props.take);const e=`${(this.rowHeightService?this.rowHeightService.totalHeight():0)+this.props.bottomOffset}`,t="vertical"===this.direction?{height:`${e}px`}:{width:`${e}px`},i=s.classNames("k-content k-scrollable",{"k-scrollable-horizontal":"horizontal"===this.direction},this.props.className),a=s.classNames("k-scrollable-placeholder",{"k-scrollable-horizontal-placeholder":"horizontal"===this.direction});return u.createElement("div",{ref:e=>{this.scrollContainer=e},onScroll:this.handleScroll,className:i,tabIndex:this.props.tabIndex,role:this.props.role},this.props.children,u.createElement("div",{style:t,className:a}))}};k.propTypes={bottomOffset:i.number.isRequired,className:i.string,direction:i.oneOf(["horizontal","vertical"]),forceScroll:i.bool,itemHeight:i.number,itemWidth:i.number,maxScrollDifference:i.number,onScroll:i.func,onScrollAction:i.func,scrollDuration:i.number,scrollOffsetSize:i.number,skip:i.number.isRequired,tabIndex:i.number,take:i.number.isRequired,topOffset:i.number.isRequired,total:i.number.isRequired,role:i.string},k.defaultProps={direction:"vertical",forceScroll:!1,scrollOffsetSize:0,maxScrollDifference:100,scrollDuration:100};let S=k;let x=class extends u.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:t,value:i}=this.props;t&&t.call(void 0,i,e)},this.handleMouseEnter=()=>{const{onMouseEnter:e,value:t}=this.props;e&&e.call(void 0,t)},this.handleMouseLeave=()=>{const{onMouseLeave:e,value:t}=this.props;e&&e.call(void 0,t)}}shouldComponentUpdate(e){const{value:t,...i}=this.props,{value:s,...a}=e;return!((!t||!s||t.getTime()===s.getTime())&&((e,t)=>{const i=Object.getOwnPropertyNames(e),s=Object.getOwnPropertyNames(t);if(i.length!==s.length)return!1;for(let s=0;s<i.length;s++){const a=i[s];if(e[a]!==t[a])return!1}return!0})(i,a))}render(){const{className:e,formattedValue:t,isWeekend:i,isFocused:a,isInRange:n,isSelected:o,isRangeStart:r,isRangeMid:l,isRangeEnd:h,isRangeSplitStart:d,isRangeSplitEnd:c,isToday:p,isDisabled:m,view:g,value:v,...f}=this.props,w="end"===this.props.activeRangeEnd&&h,b="start"===this.props.activeRangeEnd&&r,D=s.classNames("k-calendar-td",{"k-range-end":h,"k-range-mid":l,"k-range-split-end":c,"k-range-split-start":d,"k-range-start":r,"k-active":b||w,"k-state-pending-focus":a,"k-selected":o||r||h,"k-today":p,"k-weekend":i,"k-disabled":m},e);return u.createElement("td",{...f,className:D,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.createElement("span",{className:"k-link"},this.props.children))}},C=class extends u.Component{render(){const{className:e,firstDate:t,...i}=this.props;return u.createElement("td",{className:s.classNames("k-calendar-td",e),...i},this.props.children)}};var I=(e=>(e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e))(I||{});const M={start:null,end:null};function O(e){const t=(t,i,s,...a)=>null===i[s]?null:(t?e.isRequired:e)(i,s,...a),i=t.bind(null,!1);return i.isRequired=t.bind(null,!0),i}const E=(e,t,i)=>void 0===t||void 0===i||t<=e&&e<=i?e:e<t?t:i,V=new Date(1980,0,1),T=new Date(1900,0,1),P=new Date(2099,11,31),F=new Date(1980,0,1),R=new Date(1980,0,1,23,59,59),N=(e,t)=>{const i=a.cloneDate(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},L=()=>a.getDate(new Date),B=(e,t,i)=>!e||!(t&&t>e||i&&i<e),_=(e,t,i)=>null===e||!(t&&a.getDate(t)>a.getDate(e)||i&&a.getDate(i)<a.getDate(e)),A=(e,t)=>{const{start:i,end:s}=t||M;return!(!i||!s)&&(i<e&&e<s)},H=(e,t,i=1)=>{const s=[];for(let a=e;a<t;a+=i)s.push(a);return s},z=(e,t,i)=>t.getTime()<=e.getTime()&&e.getTime()<=i.getTime(),q=(e,t)=>e.slice(t).concat(e.slice(0,t)),K=(e,t,i)=>e&&(t&&e<t?a.cloneDate(t):i&&e>i?a.cloneDate(i):e),W=e=>(t,i="",s={})=>{const a=document.createElement(e);return a.className=i,Object.keys(s).map((e=>a.style[e]=s[e])),"string"==typeof t?a.innerHTML=t||"":(t||[]).forEach((e=>e&&a.appendChild(e))),a};function U(e,t,i={}){let s,a,n,o,r;i.maxWait;const l=window;let h=!1,d=!1;const c=!t&&0!==t&&"function"==typeof l.requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){const i=s,o=a;return s=a=void 0,n=e.apply(o,i),n}function p(e,t){return c?(l.cancelAnimationFrame(o),l.requestAnimationFrame(e)):setTimeout(e,t)}function m(e){const i=e-r;return void 0===r||i>=t||i<0||d}function g(){const e=Date.now();if(m(e))return v();o=p(g,function(e){return t-(e-r)}(e))}function v(e){return o=void 0,s?u():(s=a=void 0,n)}function f(...e){const i=Date.now(),l=m(i);return s=e,a=this,r=i,l&&void 0===o?(o=p(g,t),h?u():n):(void 0===o&&(o=p(g,t)),n)}return t=+t||0,f.cancel=function(){void 0!==o&&function(e){if(c)return l.cancelAnimationFrame(e);clearTimeout(e)}(o),s=r=a=o=void 0},f.flush=function(){return void 0===o?n:v()},f.pending=function(){return void 0!==o},f}let Y=class{constructor(e){this.intl=e}getWeekNames(e=!1){const t=q(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}};const $=e=>u.createElement("td",{key:e,className:"k-calendar-td"},"Â "),j=class e extends u.Component{constructor(){super(...arguments),this.intl=null,this.weekService=null,this.buildWeekNumber=(e,t)=>{if(!this.firstDate(e))return $(`week-cell-${t}`);const i=this.firstDate(e),s=this.getWeekNumber(i),a=`kendo-react-calendar-week-cell-${s}`,n={className:"k-alt",value:s,firstDate:i};return this.props.weekCell?u.createElement(this.props.weekCell,{...n,key:a},s):u.createElement(C,{...n,key:a},s)},this.buildRow=e=>e.map(((e,t)=>{if(!e)return $(t);const i={"aria-selected":e.isSelected},s=`kendo-react-calendar-cell-${e.value.getTime()}`,a={...i,...e,isDisabled:!e.isInRange,view:this.props.activeView,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return this.props.cell?u.createElement(this.props.cell,{...a,key:s},e.formattedValue):u.createElement(x,{...a,key:s},e.formattedValue)})),this.firstDate=e=>{const t=this.firstWeekDateContext(e);return t?t.value:null},this.firstWeekDateContext=e=>{if(!this.weekNumber)return null;let t=0,i=e[t];for(;!i&&t<e.length;)i=e[++t];return i},this.handleClick=(e,t)=>{const{onChange:i}=this.props;if(i&&t){const s={value:a.cloneDate(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};i.call(void 0,s)}},this.handleMouseEnter=e=>{const{onCellEnter:t}=this.props;t&&t.call(void 0,a.cloneDate(e))},this.handleMouseLeave=e=>{const{onCellLeave:t}=this.props;t&&t.call(void 0,a.cloneDate(e))}}get min(){return this.props.min}get max(){return this.props.max}get isHorizontal(){return"horizontal"===this.props.direction}get isMonthView(){return this.props.activeView===I.month}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==I.month)}get selectedDate(){return void 0!==this.props.selectedDate?this.props.selectedDate:e.defaultProps.selectedDate}render(){this.intl=n.provideIntlService(this),this.weekService=new Y(this.intl);const e=this.weekService.getWeekNames(this.weekNumber),t=this.props.service.rowLength(this.weekNumber),i=this.props.service.title(this.props.viewDate),s=L(),a=N(this.props.viewDate,s),o=this.props.service.data({cellUID:this.props.cellUID,min:this.min,max:this.max,focusedDate:this.props.focusedDate,isActiveView:!this.props.bus.canMoveDown(this.props.activeView),selectedDate:this.selectedDate,selectionRange:this.props.selectionRange,viewDate:a});return u.createElement(u.Fragment,null,this.isMonthView&&this.isHorizontal&&u.createElement("thead",{role:"rowgroup",className:"k-calendar-thead"},u.createElement("tr",{role:"row",className:"k-calendar-tr"},e.map(((e,t)=>u.createElement("th",{key:t,className:"k-calendar-th"},e))))),u.createElement("tbody",{role:"rowgroup",className:"k-calendar-tbody"},!this.isHorizontal&&u.createElement("tr",{role:"presentation",className:"k-calendar-tr"},u.createElement("th",{scope:"col",colSpan:t,className:"k-calendar-caption"},i)),o.map(((e,t)=>u.createElement("tr",{role:"row",className:"k-calendar-tr",key:t},this.weekNumber&&this.buildWeekNumber(e,t),this.buildRow(e))))))}getWeekNumber(e){return this.weekNumber&&this.intl?a.weekInYear(e,this.intl.firstDay()):null}};j.propTypes={activeRangeEnd:i.oneOf(["start","end",null]),activeView:i.number.isRequired,cellUID:i.string.isRequired,direction:i.oneOf(["horizontal","vertical"]),focusedDate:i.instanceOf(Date).isRequired,max:i.instanceOf(Date).isRequired,min:i.instanceOf(Date).isRequired,onChange:i.func,selectedDate:i.oneOfType([i.instanceOf(Date),i.arrayOf(i.instanceOf(Date))]),showWeekNumbers:i.bool,viewDate:i.instanceOf(Date).isRequired},j.defaultProps={direction:"vertical",selectedDate:L(),showWeekNumbers:!1};let Z=j;n.registerForIntl(Z);let G=class extends u.PureComponent{render(){const{view:e,...t}=this.props;return u.createElement(o.Button,{type:"button",fillMode:"flat",...t},this.props.children)}};const X=class e extends u.Component{constructor(){super(...arguments),this.getTitle=()=>{if(!this.props.currentDate)return"";const e=this.rangeLength-1,t=this.props.service.title(this.props.currentDate),i=this.props.service.addToDate(this.props.currentDate,e);return e<1||!this.props.service.isInRange(i,this.min,this.max)?t:`${t} - ${this.props.service.title(i)}`},this.handleTitleClick=e=>{this.canMoveUp&&this.props.bus.moveUp(this.props.activeView,e)}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get rangeLength(){return void 0!==this.props.rangeLength?this.props.rangeLength:e.defaultProps.rangeLength}get canMoveUp(){return this.props.bus.canMoveUp(this.props.activeView)}render(){const e=this.getTitle(),t=s.classNames("k-calendar-title"),i={children:e,value:e,view:this.props.activeView,className:t,onClick:this.handleTitleClick,disabled:!this.canMoveUp},a=this.props.headerTitle?u.createElement(this.props.headerTitle,{...i},e):u.createElement(G,{...i},e);return u.createElement("div",{className:s.classNames("k-calendar-header",{"k-vstack":this.props.verticalView,"k-hstack":!this.props.verticalView})},a,u.createElement("span",{className:"k-spacer"}),u.createElement("span",{className:"k-calendar-nav k-hstack"},this.props.commands))}};X.propTypes={activeView:i.number.isRequired,currentDate:i.instanceOf(Date).isRequired,max:i.instanceOf(Date).isRequired,min:i.instanceOf(Date).isRequired,rangeLength:i.number},X.defaultProps={rangeLength:1,min:T,max:P};let J=X;n.registerForLocalization(J);const Q="multiviewcalendar.prevView",ee="multiviewcalendar.nextView",te="dateinput.increment",ie="dateinput.decrement",se="calendar.today",ae="datepicker.toggleCalendar",ne="daterangepicker.swapStartEnd",oe="daterangepicker.start",re="daterangepicker.end",le="daterangepicker.separator",he="datetimepicker.toggleDateTimeSelector",de="timepicker.now",ce="timepicker.selectNow",ue="timepicker.cancel",pe="timepicker.set",me="timepicker.toggleTimeSelector",ge="timepicker.toggleClock",ve="datetimepicker.date",fe="datetimepicker.time",we="datetimepicker.cancel",be="datetimepicker.set",De="daterangepicker.cancel",ye="daterangepicker.set",ke={[se]:"TODAY",[de]:"NOW",[pe]:"Set",[ue]:"Cancel",[ve]:"Date",[fe]:"Time",[we]:"Cancel",[be]:"Set",[De]:"Cancel",[ye]:"Set",[oe]:"Start",[re]:"End",[le]:" ",[ce]:"Select Now",[me]:"Toggle TimeSelector",[ge]:"Toggle Clock",[te]:"Increase value",[ie]:"Decrease value",[ae]:"Toggle calendar",[Q]:"Navigate to previous view",[ee]:"Navigate to next view",[ne]:"Swap start and end values",[he]:"Toggle date-time selector"},Se=class e extends u.Component{constructor(){super(...arguments),this.localization=null,this.handleClick=e=>{if(this.todayIsInRange&&this.props.onClick){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:K(L(),this.min,this.max),target:this,isTodayClick:!0};this.props.onClick.call(void 0,t)}}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get todayIsInRange(){return B(L(),a.getDate(this.min),a.getDate(this.max))}render(){this.localization=n.provideLocalizationService(this);const e=this.localization.toLanguageString(se,ke[se]),t=s.classNames("k-calendar-nav-today",{"k-disabled":this.props.disabled});return u.createElement(o.Button,{className:t,onClick:this.handleClick,tabIndex:this.props.tabIndex,fillMode:"flat"},e)}};Se.propTypes={max:i.instanceOf(Date).isRequired,min:i.instanceOf(Date).isRequired,onClick:i.func,disabled:i.bool},Se.defaultProps={min:T,max:P};let xe=Se;n.registerForLocalization(xe);const Ce=class e extends u.Component{constructor(e){super(e),this.virtualization=null,this.calendarView=null,this.table=null,this.intl=null,this.bottomOffset=0,this.viewOffset=0,this.viewHeight=0,this._element=null,this.isActive=!1,this.animateToIndex=!0,this.shouldScroll=!1,this.focusActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus"),t=this._element.querySelector(".k-state-pending-focus");e&&e[0]&&e[0].classList.remove("k-focus"),t&&t.classList.add("k-focus"),this.isActive=!0},this.blurActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus");e&&e.classList.remove("k-focus"),this.isActive=!1},this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.table){this.table.style.transform=`translateY(${this.viewOffset}px)`;const e=K(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildMonthView=(e,t)=>u.createElement("table",{key:"calendar-view-list-weekdays",className:"k-calendar-table k-calendar-weekdays",role:"grid",tabIndex:this.props.tabIndex},u.createElement("colgroup",null,e.map(((e,t)=>u.createElement("col",{key:t})))),u.createElement("thead",{className:"k-calendar-thead"},u.createElement("tr",{className:"k-calendar-tr"},t.map(((e,t)=>u.createElement("th",{key:t,className:"k-calendar-th"},e)))))),this.buildDates=(e,t)=>{const i=this.props.cellUID;return u.createElement("table",{className:"k-calendar-table",ref:e=>this.table=e,role:"grid",tabIndex:this.props.tabIndex,"aria-activedescendant":i+this.props.focusedDate.getTime()},u.createElement("colgroup",null,e.map(((e,t)=>u.createElement("col",{key:t})))),t.map((e=>u.createElement(Z,{ref:e=>{this.calendarView||(this.calendarView=e)},key:e.getTime(),activeView:this.props.activeView,viewDate:e,min:this.props.min,max:this.props.max,cellUID:i,focusedDate:this.props.focusedDate,cell:this.props.cell,selectedDate:this.props.value,showWeekNumbers:this.weekNumber,onChange:this.handleDateChange,bus:this.props.bus,service:this.props.service,weekCell:this.props.weekCell}))))},this.calculateHeights=()=>{if(!this.props.dom)return;const e=this.props.activeView===I.month?this.props.dom.scrollableContentHeight:this.props.dom.scrollableYearContentHeight;this.bottomOffset=e-this.props.dom.viewHeight(this.props.activeView),this.viewOffset=-1*this.props.dom.headerHeight,this.viewHeight=this.props.dom.viewHeight(this.props.activeView)||1},this.getTake=(e,t)=>Math.min(t-e,this.take),this.handleScrollAction=({index:e,scrollAction:t,pageAction:i})=>{const s=i?i.skip:this.state.skip;if((this.state.index!==e||this.state.skip!==s)&&this.setState({index:e,skip:s}),this.table&&t){const e=`translateY(${t.offset}px)`;this.table.style.transform=e}},this.handleTodayClick=e=>{this.shouldScroll=!0,this.handleDateChange.call(void 0,e,!0)},this.handleDateChange=(e,t=!1)=>{const{onChange:i}=this.props;if(i){const s={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:a.cloneDate(e.value),target:this,isTodayClick:t};i.call(void 0,s)}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.state={skip:this.props.service.skip(this.props.focusedDate,this.props.min),index:this.props.service.skip(this.props.focusedDate,this.props.min)}}get element(){return this._element}get weekNames(){this.intl=n.provideIntlService(this);const e=q(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==I.month)}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}get animate(){return!(!this.props.smoothScroll||!this.animateToIndex)}get todayIsInRange(){return B(L(),a.getDate(this.props.min),a.getDate(this.props.max))}componentDidUpdate(e,t){this.shouldScroll=!1,void 0!==this.indexToScroll&&this.virtualization&&this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.isActive&&this.focusActiveDate(),this.lastView=this.props.activeView,this.indexToScroll=void 0}render(){this.calculateHeights();const e=this.lastView!==this.props.activeView,t=K(this.props.focusedDate,this.props.min,this.props.max),i=e?this.props.service.skip(t,this.props.min):this.state.skip,n=this.props.service.total(this.props.min,this.props.max),o=this.getTake(i,n),r=this.props.service.addToDate(this.props.min,i),l=this.props.service.addToDate(this.props.min,this.state.index),h=new Array(this.props.service.rowLength(this.weekNumber)).fill(""),d=this.props.activeView!==this.lastView;this.animateToIndex=!d,(d||!a.isEqualDate(this.lastFocus,t)||this.shouldScroll||!this.props.shouldScroll||this.props.shouldScroll())&&(this.indexToScroll=this.props.service.skip(t,this.props.min)),this.lastFocus=t;const c=s.classNames("k-calendar-view k-vstack",{"k-calendar-monthview":this.props.activeView===I.month,"k-calendar-yearview":this.props.activeView===I.year,"k-calendar-decadeview":this.props.activeView===I.decade,"k-calendar-centuryview":this.props.activeView===I.century}),p=this.buildDates(h,this.props.service.datesList(r,o)),m=u.createElement(u.Fragment,null,u.createElement(J,{key:"calendar-view-list-header",currentDate:l,min:this.props.min,max:this.props.max,activeView:this.props.activeView,bus:this.props.bus,service:this.props.service,headerTitle:this.props.headerTitle,commands:u.createElement(u.Fragment,null,u.createElement(xe,{min:this.props.min,max:this.props.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange,tabIndex:this.props.tabIndex}))}),this.props.activeView===I.month&&this.buildMonthView(h,this.weekNames),u.createElement(S,{key:"calendar-view-list-content",skip:i,take:this.take,total:n,itemHeight:this.viewHeight,topOffset:this.viewOffset,bottomOffset:this.bottomOffset,scrollOffsetSize:this.viewOffset,maxScrollDifference:this.viewHeight,onScroll:this.props.onScroll,onScrollAction:this.handleScrollAction,onMount:this.handleVirtualizationMount,children:p,tabIndex:this.props.tabIndex}));return u.createElement("div",{ref:e=>{this._element=e},className:c},this.props.dom.didCalculate?m:null)}};Ce.propTypes={activeView:i.number.isRequired,bottomOffset:i.number,cellUID:i.string.isRequired,focusedDate:i.instanceOf(Date).isRequired,max:i.instanceOf(Date).isRequired,min:i.instanceOf(Date).isRequired,onChange:i.func,showWeekNumbers:i.bool,smoothScroll:i.bool,take:i.number,value:i.instanceOf(Date),viewHeight:i.number,viewOffset:i.number,tabIndex:i.number},Ce.defaultProps={take:5,showWeekNumbers:!1,smoothScroll:!0};let Ie=Ce;n.registerForIntl(Ie);let Me=class extends u.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:t,value:i}=this.props;t&&t.call(void 0,i,e)}}render(){const{isRangeStart:e,value:t,text:i,...a}=this.props;return u.createElement("li",{...a,onClick:this.handleClick},u.createElement("span",{className:s.classNames({"k-calendar-navigation-marker":e})},this.props.children))}};const Oe=class e extends u.Component{constructor(e){super(e),this.virtualization=null,this.list=null,this.itemHeight=0,this.topOffset=0,this.maxViewHeight=0,this.bottomOffset=0,this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.list){this.list.style.transform=`translateY(${this.topOffset}px)`;const e=K(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildNavigationItem=e=>{const t=this.props.service.navigationTitle(e),i=this.props.service.isRangeStart(e),s=`kendo-react-calendar-nav-item-${e.getTime()}`,a={text:t,value:e,isRangeStart:i,view:this.props.activeView,onClick:this.handleDateChange};return this.props.navigationItem?u.createElement(this.props.navigationItem,{...a,key:s},t):u.createElement(Me,{...a,key:s},t)},this.calculateHeights=()=>{const e=this.props.dom.calendarHeight;this.itemHeight=this.props.dom.navigationItemHeight||1,this.maxViewHeight=this.props.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight},this.handleDateChange=(e,t)=>{const{onChange:i}=this.props;if(i&&t){const s={value:a.cloneDate(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};i.call(void 0,s)}},this.handleScrollAction=({scrollAction:e,pageAction:t})=>{const i=t?t.skip:this.state.skip;if(this.state.skip!==i&&this.setState({skip:i}),this.list&&e){const t=`translateY(${e.offset}px)`;this.list.style.transform=t}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate;const t=this.props.service.skip(this.props.focusedDate,this.props.min),i=this.props.service.total(this.props.min,this.props.max);this.state={skip:t-this.getTake(t,i)>0?t:0}}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}componentDidUpdate(e,t){void 0!==this.indexToScroll&&this.virtualization&&this.virtualization.scrollToIndex(this.indexToScroll),this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.indexToScroll=void 0}render(){this.calculateHeights();const e=this.lastView!==this.props.activeView,t=K(this.props.focusedDate,this.props.min,this.props.max),i=e?this.props.service.skip(t,this.props.min):this.state.skip,s=this.props.service.total(this.props.min,this.props.max),n=this.getTake(i,s),o=this.props.service.addToDate(this.props.min,i),r=this.props.service.datesList(o,n);(this.props.activeView!==this.lastView||!a.isEqual(t,this.lastFocus))&&(this.indexToScroll=this.props.service.skip(t,this.props.min));const l=u.createElement(S,{skip:i,take:this.take,total:s,itemHeight:this.itemHeight,topOffset:this.topOffset,bottomOffset:this.bottomOffset,onScroll:this.props.onScroll,maxScrollDifference:this.maxViewHeight,onScrollAction:this.handleScrollAction,onMount:this.handleVirtualizationMount,tabIndex:this.props.tabIndex},u.createElement("ul",{ref:e=>{this.list=e},className:"k-reset"},r.map((e=>this.buildNavigationItem(e)))));return u.createElement("div",{className:"k-calendar-navigation"},u.createElement("span",{className:"k-calendar-navigation-highlight"}),this.props.dom.didCalculate?l:null)}getTake(e,t){return Math.min(t-e,this.take)}};Oe.propTypes={activeView:i.number.isRequired,focusedDate:i.instanceOf(Date).isRequired,max:i.instanceOf(Date).isRequired,min:i.instanceOf(Date).isRequired,onChange:i.func,take:i.number,tabIndex:i.number},Oe.defaultProps={take:30};let Ee=Oe;var Ve=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e))(Ve||{});const Te=[[]],Pe={[Ve.Left]:e=>a.addDecades(e,-1),[Ve.Up]:e=>a.addDecades(e,-5),[Ve.Right]:e=>a.addDecades(e,1),[Ve.Down]:e=>a.addDecades(e,5),[Ve.PrevView]:e=>a.addCenturies(e,-1),[Ve.NextView]:e=>a.addCenturies(e,1),[Ve.FirstInView]:e=>a.firstDecadeOfCentury(e),[Ve.LastInView]:e=>a.lastDecadeOfCentury(e)};class Fe{addToDate(e,t){return a.addCenturies(e,t)}datesList(e,t){return H(0,t).map((t=>a.addCenturies(e,t)))}data(e){const{cellUID:t,focusedDate:i,isActiveView:s,max:n,min:o,selectedDate:r,selectionRange:l=M,viewDate:h}=e;if(!h)return Te;const d=H(0,4),c=a.firstDecadeOfCentury(h),u=a.lastDecadeOfCentury(h),p=L();return H(0,3).map((e=>{const h=a.addDecades(c,4*e);return d.map((e=>{const d=this.normalize(a.addDecades(h,e),o,n),m=this.isEqual(d,l.start),g=this.isEqual(d,l.end),v=!m&&!g&&A(d,l),f=s&&(Array.isArray(r)?this.isSelectedFromArray(d,r,o,n):B(r,o,n)&&this.isEqual(d,r));return z(d,c,u)?{formattedValue:this.value(d),id:`${t}${d.getTime()}`,isFocused:this.isEqual(d,i),isSelected:f,isWeekend:!1,isInRange:B(d,o,n),isRangeStart:m,isRangeMid:v,isRangeEnd:g,isRangeSplitEnd:v&&this.isEqual(d,u),isRangeSplitStart:v&&this.isEqual(d,c),isToday:this.isEqual(d,p),title:this.cellTitle(d),value:d}:null}))}))}isSelectedFromArray(e,t,i,s){let a=!1;return t.forEach((t=>{B(e,i,s)&&this.isEqual(e,t)&&(a=!0)})),a}isEqual(e,t){return!(!e||!t)&&a.firstYearOfDecade(e).getFullYear()===a.firstYearOfDecade(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+99}isInRange(e,t,i){const s=a.firstYearOfDecade(e).getFullYear(),n=!t||a.firstYearOfDecade(t).getFullYear()<=s,o=!i||s<=a.firstYearOfDecade(i).getFullYear();return n&&o}isInSameView(e,t){return 0===a.durationInCenturies(e,t)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const i=Pe[t];return i?i(e):e}cellTitle(e){return a.firstYearOfDecade(e).getFullYear().toString()}navigationTitle(e){return e?a.firstDecadeOfCentury(e).getFullYear().toString():""}title(e){return e?`${a.firstDecadeOfCentury(e).getFullYear()} - ${a.lastDecadeOfCentury(e).getFullYear()}`:""}rowLength(e){return 4}skip(e,t){return a.durationInCenturies(t,e)}total(e,t){return a.durationInCenturies(e,t)+1}value(e){return e?a.firstYearOfDecade(e).getFullYear().toString():""}viewDate(e,t,i=1){return a.durationInCenturies(e,t)<i?a.addCenturies(e,-1):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?a.cloneDate(t):e>i&&this.isEqual(e,i)?a.cloneDate(i):e}}const Re=[[]],Ne={[Ve.Left]:e=>a.addYears(e,-1),[Ve.Up]:e=>a.addYears(e,-5),[Ve.Right]:e=>a.addYears(e,1),[Ve.Down]:e=>a.addYears(e,5),[Ve.PrevView]:e=>a.addDecades(e,-1),[Ve.NextView]:e=>a.addDecades(e,1),[Ve.FirstInView]:e=>a.firstYearOfDecade(e),[Ve.LastInView]:e=>a.lastYearOfDecade(e)};let Le=class{addToDate(e,t){return a.addDecades(e,t)}datesList(e,t){return H(0,t).map((t=>a.addDecades(e,t)))}data(e){const{cellUID:t,focusedDate:i,isActiveView:s,max:n,min:o,selectedDate:r,selectionRange:l=M,viewDate:h}=e;if(!h)return Re;const d=H(0,4),c=a.firstYearOfDecade(h),u=a.lastYearOfDecade(h),p=L();return H(0,3).map((e=>{const h=a.addYears(c,4*e);return d.map((e=>{const d=this.normalize(a.addYears(h,e),o,n),m=this.isEqual(d,l.start),g=this.isEqual(d,l.end),v=!m&&!g&&A(d,l),f=s&&(Array.isArray(r)?this.isSelectedFromArray(d,r,o,n):B(r,o,n)&&this.isEqual(d,r));return z(d,c,u)?{formattedValue:this.value(d),id:`${t}${d.getTime()}`,isFocused:this.isEqual(d,i),isSelected:f,isWeekend:!1,isInRange:B(d,o,n),isRangeStart:m,isRangeMid:v,isRangeEnd:g,isRangeSplitEnd:v&&this.isEqual(d,u),isRangeSplitStart:v&&this.isEqual(d,c),isToday:this.isEqual(d,p),title:this.cellTitle(d),value:d}:null}))}))}isSelectedFromArray(e,t,i,s){let a=!1;return t.forEach((t=>{B(e,i,s)&&this.isEqual(e,t)&&(a=!0)})),a}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+9}isInRange(e,t,i){const s=e.getFullYear(),a=!t||t.getFullYear()<=s,n=!i||s<=i.getFullYear();return a&&n}isRangeStart(e){return e.getFullYear()%100==0}isInSameView(e,t){return 0===a.durationInDecades(e,t)}move(e,t){const i=Ne[t];return i?i(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?a.firstYearOfDecade(e).getFullYear().toString():""}title(e){return e?`${a.firstYearOfDecade(e).getFullYear()} - ${a.lastYearOfDecade(e).getFullYear()}`:""}rowLength(e){return 4}skip(e,t){return a.durationInDecades(t,e)}total(e,t){return a.durationInDecades(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,i=1){return a.durationInDecades(e,t)<i?a.addDecades(e,-1):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?a.cloneDate(t):e>i&&this.isEqual(e,i)?a.cloneDate(i):e}};const Be=[[]],_e={[Ve.Left]:e=>a.addDays(e,-1),[Ve.Up]:e=>a.addWeeks(e,-1),[Ve.Right]:e=>a.addDays(e,1),[Ve.Down]:e=>a.addWeeks(e,1),[Ve.PrevView]:e=>a.addMonths(e,-1),[Ve.NextView]:e=>a.addMonths(e,1),[Ve.FirstInView]:e=>a.firstDayOfMonth(e),[Ve.LastInView]:e=>a.lastDayOfMonth(e)};class Ae{constructor(e){this.intl=e}addToDate(e,t){return a.addMonths(e,t)}datesList(e,t){return H(0,t).map((t=>a.addMonths(e,t)))}data(e){const{cellUID:t,focusedDate:i,isActiveView:s,max:n,min:o,selectedDate:r,selectionRange:l=M,viewDate:h}=e;if(!h)return Be;const d=a.firstDayOfMonth(h),c=a.lastDayOfMonth(h),u=a.dayOfWeek(d,this.intl.firstDay(),-1),p=H(0,7),m=L();return H(0,6).map((e=>{const h=a.addDays(u,7*e);return p.map((e=>{const u=this.normalize(a.addDays(h,e),o,n);if(u<d||u>c)return null;const p=this.isEqual(u,l.start),g=this.isEqual(u,l.end),v=!p&&!g&&A(u,l),f=s&&(Array.isArray(r)?this.isSelectedFromArray(u,r,o,n):B(r,o,n)&&this.isEqual(u,r));return{formattedValue:this.value(u),id:`${t}${u.getTime()}`,isFocused:this.isEqual(u,i),isSelected:f,isInRange:B(u,o,n),isWeekend:this.isWeekend(u),isRangeStart:p,isRangeMid:v,isRangeEnd:g,isRangeSplitStart:v&&this.isEqual(u,d),isRangeSplitEnd:v&&this.isEqual(u,c),isToday:this.isEqual(u,m),title:this.cellTitle(u),value:u}}))}))}isEqual(e,t){return!(!e||!t)&&a.getDate(e).getTime()===a.getDate(t).getTime()}isSelectedFromArray(e,t,i,s){let a=!1;return t.forEach((t=>{B(e,i,s)&&this.isEqual(e,t)&&(a=!0)})),a}isInArray(e,t){return!!t.length&&a.firstDayOfMonth(t[0])<=e&&e<=a.lastDayOfMonth(t[t.length-1])}isInRange(e,t,i){const s=a.getDate(e),n=!t||a.getDate(t)<=s,o=!i||s<=a.getDate(i);return n&&o}isInSameView(e,t){return 0===a.durationInMonths(e,t)}isRangeStart(e){return!e.getMonth()}move(e,t){const i=_e[t];return i?i(e):e}cellTitle(e){return this.intl.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e){return 7+(e?1:0)}skip(e,t){return a.durationInMonths(t,e)}total(e,t){return a.durationInMonths(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,i=1){return a.durationInMonths(e,t)<i?a.addMonths(e,-1):e}isWeekend(e){const t=e.getDay();return 6===t||0===t}abbrMonthNames(){return this.intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?a.getDate(t):e>i&&this.isEqual(e,i)?a.getDate(i):e}wideMonthNames(){return this.intl.dateFormatNames({nameType:"wide",type:"months",standAlone:!0})}}const He=[[]],ze={[Ve.Left]:e=>a.addMonths(e,-1),[Ve.Up]:e=>a.addMonths(e,(e=>e>4?-5:e<2?-2:-7)(e.getMonth())),[Ve.Right]:e=>a.addMonths(e,1),[Ve.Down]:e=>a.addMonths(e,(e=>e<7?5:e<10?7:2)(e.getMonth())),[Ve.PrevView]:e=>a.addYears(e,-1),[Ve.NextView]:e=>a.addYears(e,1),[Ve.FirstInView]:e=>a.firstMonthOfYear(e),[Ve.LastInView]:e=>a.lastMonthOfYear(e)};let qe=class{constructor(e){this._intl=e}addToDate(e,t){return a.addYears(e,t)}datesList(e,t){return H(0,t).map((t=>a.addYears(e,t)))}data(e){const{cellUID:t,focusedDate:i,isActiveView:s,max:n,min:o,selectedDate:r,selectionRange:l=M,viewDate:h}=e;if(!h)return He;const d=this.abbrMonthNames(),c=a.firstMonthOfYear(h),u=a.lastMonthOfYear(h),p=c.getFullYear(),m=H(0,4),g=L();return H(0,3).map((e=>{const h=a.addMonths(c,4*e);return m.map((e=>{const m=this.normalize(a.addMonths(h,e),o,n);if(p<m.getFullYear())return null;const v=this.isEqual(m,l.start),f=this.isEqual(m,l.end),w=!v&&!f&&A(m,l),b=s&&(Array.isArray(r)?this.isSelectedFromArray(m,r,o,n):B(r,o,n)&&this.isEqual(m,r));return{formattedValue:d[m.getMonth()],id:`${t}${m.getTime()}`,isFocused:this.isEqual(m,i),isSelected:b,isInRange:B(m,o,n),isWeekend:!1,isRangeStart:v,isRangeMid:w,isRangeEnd:f,isRangeSplitEnd:w&&this.isEqual(m,u),isRangeSplitStart:w&&this.isEqual(m,c),isToday:this.isEqual(m,g),title:this.cellTitle(m),value:m}}))}))}isSelectedFromArray(e,t,i,s){let a=!1;return t.forEach((t=>{B(e,i,s)&&this.isEqual(e,t)&&(a=!0)})),a}isEqual(e,t){return!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth())}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()}isInRange(e,t,i){const s=a.createDate(e.getFullYear(),e.getMonth(),1),n=!t||a.createDate(t.getFullYear(),t.getMonth(),1)<=s,o=!i||s<=a.createDate(i.getFullYear(),i.getMonth(),1);return n&&o}isInSameView(e,t){return 0===a.durationInYears(e,t)}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const i=ze[t];return i?i(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(e){return 4}skip(e,t){return a.durationInYears(t,e)}total(e,t){return a.durationInYears(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,i=1){return a.durationInYears(e,t)<i?a.addYears(e,-1):e}abbrMonthNames(){return this._intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?a.cloneDate(t):e>i&&this.isEqual(e,i)?a.cloneDate(i):e}};const Ke={[I.month]:Ae,[I.year]:qe,[I.decade]:Le,[I.century]:Fe};let We=class{constructor(e){this.bottom=I.month,this.top=I.century,this.onViewChanged=e}configure(e,t){this.bottom=e,this.top=t}service(e,t){return new Ke[`${e}`](t)}moveDown(e,t){this.move(e,-1,t)}moveUp(e,t){this.move(e,1,t)}moveToBottom(e){e!==this.bottom&&this.onViewChanged({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t,i){const s=this.clamp(((e,t)=>{const i=I[I[e+t]];return void 0!==i?i:e})(e,t));s!==e&&this.onViewChanged({view:s},i)}},Ue=class{constructor(){this.calendarHeight=0,this.headerHeight=0,this.monthViewHeight=0,this.yearViewHeight=0,this.decadeViewHeight=0,this.centuryViewHeight=0,this.navigationItemHeight=0,this.scrollableContentHeight=0,this.scrollableYearContentHeight=0,this.calendarWidth=0,this.monthViewWidth=0,this.yearViewWidth=0,this.decadeViewWidth=0,this.centuryViewWidth=0,this.scrollableContentWidth=0,this.didCalculate=!1,this.hostContainer=null}ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){if(!s.canUseDOM)return;const t=W("div"),i=W("ul"),a=W("li"),n=W("td"),o=W("th"),r=W("tr"),l=W("tbody"),h=W("thead"),d=W("table"),c=()=>t('\n            <span class="k-button k-button-md k-button-rectangle k-button-solid k-button-solid-base k-button-flat k-calendar-title">\n                <span className="k-button-text">March 2017</span>\n            </span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack"><button class="k-calendar-nav-today">TODAY</button></span>\n        ',"k-calendar-header k-hstack"),u=(e,t)=>new Array(e).fill("1").map(t),p=e=>t(e,"k-content k-scrollable"),m=(()=>{let e;return()=>s.canUseDOM?(e||(e=t([p([i([a("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),e):null})(),g=({cells:e,rows:i},a,m)=>{let g;return()=>s.canUseDOM?(g||(g=((e,i,s)=>t(s?[c(),d([h([r([o("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-table k-calendar-weekdays"),p([e,e])]:[c(),p([e,e])],i,{left:"-10000px",position:"absolute"}))(((e,t=1)=>d([l([r([n("1","k-calendar-td k-alt")])].concat(u(e,(()=>r(u(t,(e=>n(`<span class="k-link">${e}</span>`,"k-calendar-td"))),"k-calendar-tr")))),"k-calendar-tbody")],"k-calendar-table"))(i,e),a,m)),g):null},v=e=>e.querySelector(".k-scrollable"),f=e=>{const t=v(e);return t.className=`${t.className} k-scrollable-horizontal`,e},w=g({cells:7,rows:6},"k-calendar-view k-calendar-monthview k-vstack",!0),b=g({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),D=g({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),y=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,k=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},S=e=>e.querySelector("tbody");this.didCalculate=!0,e&&(this.hostContainer=e),this.batch(w(),(e=>{const t=S(e);this.calendarHeight=y(e),this.monthViewHeight=y(t),this.headerHeight=y(t.children[0]),this.scrollableContentHeight=y(v(e))})),this.batch(f(w()),(e=>{const t=S(e);this.calendarWidth=k(e),this.monthViewWidth=k(t),this.scrollableContentWidth=k(v(e))})),this.batch(b(),(e=>{this.yearViewHeight=y(S(e)),this.scrollableYearContentHeight=y(v(e))})),this.batch(f(b()),(e=>{this.yearViewWidth=k(S(e))})),this.batch(D(),(e=>{this.decadeViewHeight=y(S(e)),this.centuryViewHeight=this.decadeViewHeight})),this.batch(f(D()),(e=>{this.decadeViewWidth=k(S(e)),this.centuryViewWidth=this.decadeViewWidth})),this.batch(m(),(e=>{this.navigationItemHeight=y(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const i="height"===t?"ViewHeight":"ViewWidth";switch(e){case I.month:return this[`month${i}`];case I.year:return this[`year${i}`];case I.decade:return this[`decade${i}`];case I.century:return this[`century${i}`];default:return 1}}batch(e,t){const i=this.hostContainer||document.body,s=i.appendChild(e);t(s),i.removeChild(s)}};const Ye={33:Ve.PrevView,34:Ve.NextView,35:Ve.LastInView,36:Ve.FirstInView,37:Ve.Left,38:Ve.Up,39:Ve.Right,40:Ve.Down,"meta+38":Ve.UpperView,"meta+40":Ve.LowerView};let $e=class{constructor(e){this.bus=e}action(e){const t=`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`;return Ye[t]}move(e,t,i,s,a){return s?t===Ve.UpperView&&this.bus.canMoveUp(i)?(this.bus.moveUp(i,a),e):t===Ve.LowerView&&this.bus.canMoveDown(i)?(this.bus.moveDown(i,a),e):s.move(e,t):e}};class je{constructor(e){this.dom=e,this.divideByMagnitude=null,this.powerByMagnitude=null,this.navigator=null,this.view=null,this.monthScrolled=!1,this.navScrolled=!1}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t,i){if(e&&t){if(this.navigator=e,this.view=t,i.target===this.navigator.element){if(this.monthScrolled)return void(this.monthScrolled=!1);this.navScrolled=!0,this.scrollSiblingOf(this.navigator.element)}if(i.target===this.view.element){if(this.navScrolled)return void(this.navScrolled=!1);this.monthScrolled=!0,this.scrollSiblingOf(this.view.element)}}}scrollSiblingOf(e){const t=this.siblingComponent(e),i=this.calculateScroll(t,e.scrollTop);t.scrollTo(i)}siblingComponent(e){return this.navigator.element===e?this.view:this.navigator}calculateScroll(e,t){const i=e===this.navigator?this.divideByMagnitude:this.powerByMagnitude;return i?i(t):0}}const Ze=e=>e?e.virtualization:null,Ge=(e=Je.defaultProps.min,t=Je.defaultProps.max,i,s)=>void 0!==s?null!==s&&B(a.getDate(s),e,t)?s:null:null!==i&&B(a.getDate(i),e,t)?i:null,Xe=class e extends u.Component{constructor(t){super(t),this.scrollSyncService=null,this.focusedDate=null,this.Navigation=null,this.calendarViewList=null,this._element=null,this.intl=null,this.service=null,this.isActive=!1,this.didNavigationChange=!1,this.focus=()=>{this._element&&this._element.focus()},this.shouldScroll=()=>this.didNavigationChange,this.handleScroll=e=>{this.scrollSyncService&&this.scrollSyncService.sync(Ze(this.Navigation),Ze(this.calendarViewList),e)},this.handleNavigationChange=e=>{if(this.props.disabled)return;this.didNavigationChange=!0;const t=a.cloneDate(e.value);this.setState({focusedDate:t})},this.handleViewChange=({view:e})=>{this.scrollSyncService&&this.scrollSyncService.configure(e),this.setState({activeView:e})},this.handleDateChange=e=>{const t=a.cloneDate(e.value),i=a.cloneDate(e.value),s=this.bus.canMoveDown(this.state.activeView);if(this.props.disabled)return;if(s){if(!e.isTodayClick)return this.bus.moveDown(this.state.activeView,e.syntheticEvent),void this.setState({focusedDate:i});this.bus.moveToBottom(this.state.activeView)}this.setState({value:t,focusedDate:i}),this.valueDuringOnChange=t;const{onChange:n}=this.props;if(n){const i={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:t,target:this};n.call(void 0,i)}this.valueDuringOnChange=void 0},this.handleFocus=e=>{if(this.isActive=!0,!this.calendarViewList)return;this.calendarViewList.focusActiveDate();const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleBlur=e=>{if(this.isActive=!1,!this.calendarViewList)return;this.calendarViewList.blurActiveDate();const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleKeyDown=e=>{const{keyCode:t,ctrlKey:i,metaKey:n}=e;if(this.focusedDate&&this.service){if(84===t&&this.setState({focusedDate:L()}),(i||n)&&(t===s.Keys.left||t===s.Keys.right)){if(this.props.disabled)return;this.didNavigationChange=!0,31===this.focusedDate.getDate()&&this.focusedDate.setDate(30);const e=t===s.Keys.left?this.focusedDate.getMonth()-1:this.focusedDate.getMonth()+1,i=new Date(this.focusedDate.setMonth(e)),n=a.cloneDate(i);this.setState({focusedDate:n})}if(t===s.Keys.enter){if(null!==this.value&&a.isEqualDate(this.focusedDate,this.value)){const e=K(this.focusedDate,this.min,this.max);Ze(this.calendarViewList).scrollToIndex(this.service.skip(e,this.min))}const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.focusedDate,target:this};this.handleDateChange(t)}else{const t=K(this.navigation.move(this.focusedDate,this.navigation.action(e),this.state.activeView,this.service,e),this.min,this.max);if(a.isEqualDate(this.focusedDate,t))return;this.setState({focusedDate:t})}e.preventDefault()}},this.handleMouseDown=e=>{e.preventDefault()},this.handleClick=e=>{this._element&&this._element.focus({preventScroll:!0})},s.validatePackage(p);const i=Ge(this.min,this.max,this.props.defaultValue||e.defaultProps.defaultValue,this.props.value);this.state={value:i,activeView:E(I[t.defaultActiveView],this.bottomView,this.topView),focusedDate:K(t.focusedDate||i||L(),this.min,this.max)},this.dom=new Ue,this.bus=new We(this.handleViewChange),this.navigation=new $e(this.bus),this.oldValue=i}get cellUID(){return this.props.id+"-cell-uid"}get id(){return this.props.id+"-id"}get element(){return this._element}get value(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value}get min(){return a.getDate(void 0!==this.props.min?this.props.min:e.defaultProps.min)}get max(){return a.getDate(void 0!==this.props.max?this.props.max:e.defaultProps.max)}get bottomView(){return I[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]}get topView(){return I[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]}componentDidMount(){Promise.resolve().then((()=>{s.setScrollbarWidth(),this._element&&(this.dom.calculateHeights(this._element),this.scrollSyncService=new je(this.dom),this.scrollSyncService.configure(this.state.activeView),this.forceUpdate())}))}componentDidUpdate(e,t){s.setScrollbarWidth(),t.activeView!==this.state.activeView&&this.scrollSyncService&&this.scrollSyncService.configure(this.state.activeView),this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)(),this.didNavigationChange=!1,this.isActive&&(this.oldValue=this.value)}render(){this.props._ref&&this.props._ref(this);const t=null!==this.value&&null!==this.oldValue?!a.isEqualDate(this.value,this.oldValue):this.value!==this.oldValue,i=E(this.state.activeView,I[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView],I[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]),o=Ge(this.min,this.max,this.value,this.value),r=o?a.getDate(o):null;this.focusedDate=a.getDate(K(t&&null!==o?o:this.state.focusedDate,this.min,this.max)),this.intl=n.provideIntlService(this),this.bus.configure(this.bottomView,this.topView),this.service=this.bus.service(i,this.intl);const{smoothScroll:l=Number.parseFloat(u.version)<18}=this.props,h=s.classNames("k-widget k-calendar k-calendar-infinite",{"k-disabled":this.props.disabled,"k-week-number":this.props.weekNumber,"k-calendar-lg":this.props.mobileMode},this.props.className),d=[this.props.navigation&&u.createElement(Ee,{key:0,ref:e=>{this.Navigation=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,onScroll:this.handleScroll,onChange:this.handleNavigationChange,service:this.service,dom:this.dom,navigationItem:this.props.navigationItem,tabIndex:this.props.tabIndex}),u.createElement(Ie,{key:1,ref:e=>{this.calendarViewList=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,shouldScroll:this.shouldScroll,onScroll:this.handleScroll,service:this.service,cell:this.props.cell,weekCell:this.props.weekCell,dom:this.dom,smoothScroll:l,showWeekNumbers:this.props.weekNumber,onChange:this.handleDateChange,value:r,cellUID:this.cellUID,headerTitle:this.props.headerTitle,tabIndex:this.props.tabIndex})];return u.createElement("div",{ref:e=>{this._element=e},className:h,id:this.props.id||this.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,"aria-disabled":this.props.disabled,tabIndex:this.props.disabled?void 0:this.props.tabIndex||0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onClick:this.handleClick},d)}};Xe.displayName="Calendar",Xe.propTypes={className:i.string,defaultActiveView:i.oneOf(["month","year","decade","century"]),defaultValue:i.instanceOf(Date),disabled:i.bool,focusedDate:i.instanceOf(Date),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,max:i.instanceOf(Date),min:i.instanceOf(Date),navigation:i.bool,smoothScroll:i.bool,onBlur:i.func,onChange:i.func,onFocus:i.func,tabIndex:i.number,value:i.instanceOf(Date),weekNumber:i.bool,topView:(e,t,i)=>{const s=e[t],a=e.bottomView;return s&&a&&I[s]<I[a]?new Error(`Invalid prop + ${t} suplied to ${i}.\n                    ${t} can not be smaller than bottomView.\n                    `):null},bottomView:(e,t,i)=>{const s=e[t],a=e.topView;return s&&a&&I[s]>I[a]?new Error(`Invalid prop + ${t} suplied to ${i}.\n                    ${t} can not be bigger than topView.\n                    `):null}},Xe.defaultProps={disabled:!1,min:T,max:P,navigation:!0,defaultActiveView:"month",defaultValue:null,topView:"century",bottomView:"month"};let Je=Xe;const Qe=s.createPropsContext(),et=s.withIdHOC(s.withPropsContext(Qe,Je));et.displayName="KendoReactCalendar",n.registerForIntl(Je);class tt{constructor(){this.symbols="",this.partMap=[]}}const it=(e,t)=>(e[t.pattern[0]]=t.type,e),st=["k-widget","k-dateinput"];let at=class{constructor(e,t,i){this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this._value=a.getDate(new Date),this.intlProvider=e,this.formatPlaceholder=t,this.format=i,this.monthNames=this.allFormatedMonths()}get intl(){return this.intlProvider()}get value(){return this._value}setValue(e){e?a.isEqual(e,this._value)||(this._value=a.cloneDate(e),this.modifyExisting(!0)):(this._value=a.getDate(new Date),this.modifyExisting(!1))}hasValue(){return this.intl.splitDateFormat(this.format).reduce(((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0])),!1)}getDateObject(){for(let e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return a.cloneDate(this.value)}getTextAndFormat(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}modifyExisting(e){const t=this.dateFormatString(this.value,this.format).symbols;for(let i=0;i<t.length;i++)this.setExisting(t[i],e)}getExisting(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(e,t){switch(e){case"y":this.year=t,!1===t&&this._value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this._value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}modifyPart(e,t){let i=a.cloneDate(this.value);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":i=a.addMonths(this.value,t);break;case"d":case"E":i.setDate(i.getDate()+t);break;case"h":case"H":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"a":i.setHours(i.getHours()+12*t)}this.setExisting(e,!0),this._value=i}parsePart(e,t){if(this.resetLeadingZero(),!t)return this.setExisting(e,!1),{value:null};const i=this.intl.formatDate(this.value,this.format),s=this.dateFormatString(this.value,this.format),n=s.symbols;let o=!1,r="",l="",h="";for(let t=0;t<i.length;t++)n[t]===e?(l+=this.getExisting(e)?i[t]:"0",o=!0):o?h+=i[t]:r+=i[t];let d=null;const c=this.matchMonth(t);for(;l.length>0&&"0"===l.charAt(0);)l=l.slice(1);l.length>=4&&(l="");for(let i=0;i<2;i++){let i=l+t,s=parseInt(i,10);if(d=this.intl.parseDate(r+i+h,this.format),!d&&!isNaN(s)&&!isNaN(parseInt(t,10))){if("M"===e&&!c){const e=s-1;e>-1&&e<12&&(d=a.cloneDate(this.value),d.setMonth(e),d.getMonth()!==e&&(d=a.lastDayOfMonth(a.addMonths(d,-1))))}"y"===e&&(d=a.createDate(parseInt(i,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&d.getDate()!==this.value.getDate()&&(d=a.lastDayOfMonth(a.addMonths(d,-1))))}if(d)return this._value=d,this.setExisting(e,!0),{value:this.value};l=""}return c&&(d=this.intl.parseDate(r+c+h,this.format),d)?(this._value=d,this.setExisting(e,!0),{value:this.value}):("0"===t&&(this.leadingZero=this.isAbbrMonth(s.partMap,e)?null:{[e]:!0},this.setExisting(e,!1)),{value:null})}symbolMap(e){return this.intl.splitDateFormat(this.format).reduce(it,{})[e]}resetLeadingZero(){const e=null!==this.leadingZero;return this.leadingZero=null,e}isAbbrMonth(e,t){const i=this.partPattern(e,t);return"month"===i.type&&i.names}partPattern(e,t){return e.filter((e=>-1!==e.pattern.indexOf(t)))[0]}matchMonth(e){if(this.typedMonthPart+=e.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(let e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}allFormatedMonths(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return[]}dateFormatString(e,t){const i=this.intl.splitDateFormat(t),s=[],a=[];for(let t=0;t<i.length;t++){let n=this.intl.formatDate(e,{pattern:i[t].pattern}).length;for(;n>0;)s.push(this.symbols[i[t].pattern[0]]||"_"),a.push(i[t]),n--}const n=new tt;return n.symbols=s.join(""),n.partMap=a,n}merge(e,t){let i="",s="",a=t.symbols;for(let n=a.length-1;n>=0;n--)if(-1===this.knownParts.indexOf(a[n])||this.getExisting(a[n]))i=e[n]+i,s=a[n]+s;else{const e=a[n];for(;n>=0&&e===a[n];)n--;for(n++,i=this.leadingZero&&this.leadingZero[e]?"0"+i:this.dateFieldName(t.partMap[n])+i;s.length<i.length;)s=a[n]+s}return{text:i,format:s}}dateFieldName(e){const t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}};const nt="dayperiod",ot="hour",rt="minute",lt="second",ht=e=>(t,i)=>{const s=a.cloneDate(t);return s[e](i),s},dt=[{type:ot,getter:e=>e.getHours()},{type:rt,getter:e=>e.getMinutes()},{type:lt,getter:e=>e.getSeconds()},{type:"millisecond",getter:e=>e.getMilliseconds()}],ct=(e=>t=>e.map((e=>t=>e[t.type]?(e=>(t,i)=>e(i))(t.getter):(e=>(t,i)=>e(t))(t.getter))((e=>e.reduce(((e,t)=>(e[t.type]=t.type,e)),{}))(t))))(dt),ut=(e=>(t,i)=>e.map((e=>{const s=Math.floor(t[e.type]);return s?((e,t,i,s)=>a=>{const n=e(a),o=e(i);return"hour"===s?n-(n-o)%t:a.getTime()<=i.getTime()&&0!==n&&n<=o?Math.ceil(n/t)*t:n-n%t})(e.getter,s,i,e.type):e.getter})))(dt),pt=e=>t=>{const i=a.cloneDate(t);return i.setHours(...e.map((e=>e(i)))),i},mt=ht("setHours"),gt=ht("setMinutes"),vt=ht("setSeconds"),ft=()=>new Date,wt=(e,t,i=1)=>{const s=[];for(let a=e;a<t;a+=i)s.push(a);return s},bt=(e,t,i)=>({candidateValue:N(V,e),maxValue:a.addDays(N(V,i),t.getHours()<i.getHours()?0:1),minValue:N(V,t)}),Dt=(e,t,i)=>{if(!e||!t||!i)return!0;const{candidateValue:s,minValue:a,maxValue:n}=bt(e,t,i);return a<=s&&s<=n},yt=(e,t)=>{if(null===e||null===t)return!1;const i=N(V,e),s=N(V,t);return i.getTime()<s.getHours()},kt=(e,t)=>{if(null===e||null===t)return!1;const i=N(V,e);return N(V,t).getTime()<i.getHours()},St=class e extends u.Component{constructor(t){super(t),this.kendoDate=null,this.currentFormat="",this.paste=!1,this._element=null,this._wrapper=null,this._lastSelectedSymbol="",this.focus=()=>{this._element&&this._element.focus()},this.setValidity=()=>{this.element&&this.element.setCustomValidity&&this.element.setCustomValidity(this.validity.valid?"":this.props.validationMessage||e.defaultProps.validationMessage)},this.updateOnPaste=e=>{if(!this.element||!this.kendoDate)return;const t=n.provideIntlService(this).parseDate(this.element.value,this.props.format)||this.value,i=this.value;this.kendoDate.setValue(t),this.triggerChange(e,i)},this.spinnersMouseDown=e=>{e.preventDefault();const t=s.getActiveElement(document);this.element&&t!==this.element&&this.element.focus({preventScroll:!0})},this.handlePaste=()=>{this.paste=!0},this.elementChange=e=>{if(!this.element||!this.kendoDate)return;if(this.paste)return this.updateOnPaste(e),void(this.paste=!1);const{text:t,format:i}=this.kendoDate.getTextAndFormat();this.currentFormat=i;const s=this.value,a=((e,t,i,s)=>{const a=e[s+e.length-i.length],n=e.substring(0,s+e.length-i.length),o=i.substring(0,s),r=[];if(n===o&&s>0)return r.push([t[s-1],o[s-1]]),r;if(0===n.indexOf(o)&&(0===o.length||t[o.length-1]!==t[o.length])){let e="";1===o.length&&r.push([t[0],o[0]]);for(let i=o.length;i<n.length;i++)t[i]!==e&&"_"!==t[i]&&(e=t[i],r.push([e,""]));return r}if(0===o.indexOf(n)||"_"===t[s-1]){let e=t[0];for(let i=Math.max(0,n.length-1);i<t.length;i++)if("_"!==t[i]){e=t[i];break}return[[e,o[s-1]]]}return" "===o[o.length-1]||o[o.length-1]===a?[[t[s-1],"_"]]:[[t[s-1],o[s-1]]]})(t,this.currentFormat,this.element.value,this.selection.start),n=1===a.length&&"_"===a[0][1];if(!n)for(let e=0;e<a.length;e++)this.kendoDate.parsePart(a[e][0],a[e][1]);a.length&&"_"!==a[0][0]&&this.setSelection(this.selectionBySymbol(a[0][0])),n&&this.switchDateSegment(1),this.triggerChange(e,s)},this.elementClick=e=>{this.setSelection(this.selectionByIndex(this.selection.start))},this.nativeWheel=e=>{s.getActiveElement(document)===this.element&&e.preventDefault()},this.wheel=e=>{s.getActiveElement(document)===this.element&&(e.nativeEvent.deltaY<0&&this.increasePart(e),e.nativeEvent.deltaY>0&&this.decreasePart(e))},this.increasePart=e=>{this.modifyDateSegmentValue(1,e)},this.decreasePart=e=>{this.modifyDateSegmentValue(-1,e)},this.elementKeyDown=e=>{if(!e.altKey){switch(e.keyCode){case 37:this.switchDateSegment(-1);break;case 38:this.modifyDateSegmentValue(1,e);break;case 39:this.switchDateSegment(1);break;case 40:this.modifyDateSegmentValue(-1,e);break;default:return}e.preventDefault()}},this.elementOnFocus=e=>{this.wrapper&&this.wrapper.classList.add("k-focus"),this.setState({focused:!0})},this.elementOnBlur=e=>{this.wrapper&&this.wrapper.classList.remove("k-focus"),this.setState({focused:!1})},s.validatePackage(p),this.state={focused:!1}}get _inputId(){return this.props.id+"-accessibility-id"}componentDidMount(){this.setValidity(),this.wrapper&&this.wrapper.addEventListener("wheel",this.nativeWheel,{passive:!1})}componentDidUpdate(e,t){this._lastSelectedSymbol&&t.focused===this.state.focused?this.setSelection(this.selectionBySymbol(this._lastSelectedSymbol)):void 0!==this.props.placeholder&&this.selection.start===this.selection.end&&this.setSelection({start:0,end:this.currentFormat.length}),this.setValidity()}componentWillUnmount(){this.wrapper&&this.wrapper.removeEventListener("wheel",this.nativeWheel)}render(){const{size:t=e.defaultProps.size,fillMode:i=e.defaultProps.fillMode,rounded:a=e.defaultProps.rounded}=this.props;this.props._ref&&(this.props._ref.current=this);const h=n.provideLocalizationService(this),d={...e.defaultProps,...this.props},{name:c,label:p,id:m}=d,g=this.text,v=g===this.props.placeholder?"":g,f=g===this.props.placeholder?g:void 0,w=m||this._inputId,b=!this.validityStyles||this.validity.valid;let D=[...st];this.props.className&&D.push(this.props.className);const y=u.createElement(s.AsyncFocusBlur,{onFocus:this.elementOnFocus,onBlur:this.elementOnBlur},(({onFocus:e,onBlur:n})=>u.createElement("span",{ref:e=>{this._wrapper=e},style:p?void 0:{width:this.props.width},dir:this.props.dir,className:s.classNames("k-dateinput","k-input",{[`k-input-${s.kendoThemeMaps.sizeMap[t]||t}`]:t,[`k-input-${i}`]:i,[`k-rounded-${s.kendoThemeMaps.roundedMap[a]||a}`]:a,"k-invalid":!b,"k-required":this.required,"k-disabled":this.props.disabled},this.props.className),onFocus:e,onBlur:n},u.createElement("input",{role:this.props.ariaRole||"textbox",readOnly:this.props.readonly,tabIndex:this.props.tabIndex,disabled:this.props.disabled,title:void 0!==this.props.title?this.props.title:g,type:"text",spellCheck:!1,autoComplete:"off",autoCorrect:"off",className:"k-input-inner",id:w,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,"aria-haspopup":this.props.ariaHasPopup,"aria-disabled":this.props.disabled,"aria-expanded":this.props.ariaExpanded,"aria-controls":this.props.ariaControls,onWheel:this.wheel,onClick:this.elementClick,onInput:this.elementChange,onPaste:this.handlePaste,onKeyDown:this.elementKeyDown,onChange:s.noop,value:v,placeholder:f,name:c,ref:e=>this._element=e}),this.props.children,this.props.spinners&&u.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:this.spinnersMouseDown},u.createElement(o.Button,{tabIndex:-1,type:"button",rounded:null,className:"k-spinner-increase",icon:"caret-alt-up",svgIcon:r.caretAltUpIcon,"aria-label":h.toLanguageString(te,ke[te]),title:h.toLanguageString(te,ke[te]),onClick:this.increasePart}),u.createElement(o.Button,{tabIndex:-1,type:"button",rounded:null,className:"k-spinner-decrease",icon:"caret-alt-down",svgIcon:r.caretAltDownIcon,"aria-label":h.toLanguageString(ie,ke[ie]),title:h.toLanguageString(ie,ke[ie]),onClick:this.decreasePart})))));return p?u.createElement(l.FloatingLabel,{label:p,editorId:w,editorValue:g,editorValid:b,editorDisabled:this.props.disabled,children:y,style:{width:this.props.width}}):y}get value(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:this.kendoDate&&this.kendoDate.getDateObject()}get name(){return this.props.name}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get text(){const t={...It.defaultProps,...this.props},{formatPlaceholder:i=e.defaultProps.formatPlaceholder,format:s=e.defaultProps.format,value:a,defaultValue:n}=t;null===this.kendoDate?(this.kendoDate=new at(this.intl.bind(this),i,s),this.kendoDate.setValue(a||n||null)):(this.kendoDate.format=s,this.kendoDate.formatPlaceholder=i),void 0!==a&&this.value!==a&&this.kendoDate.setValue(a);const{text:o,format:r}=this.kendoDate.getTextAndFormat();return this.currentFormat=r,null===t.placeholder||void 0===t.placeholder||this.state.focused||this.kendoDate.hasValue()?o:t.placeholder}get validity(){const e=((e,t,i)=>null===e||!(t&&t>e||i&&i<e))(this.value,this.min,this.max)&&Dt(this.value,this.props.minTime,this.props.maxTime),t=void 0!==this.props.validationMessage,i=(!this.required||null!==this.value)&&e,s=void 0!==this.props.valid?this.props.valid:i;return{customError:t,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:s,valueMissing:null===this.value}}get element(){return this._element}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get wrapper(){return this._wrapper}intl(){return n.provideIntlService(this)}get selection(){let e={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(e={start:this.element.selectionStart,end:this.element.selectionEnd}),e}setSelection(e){this._lastSelectedSymbol=this.currentFormat[e.start],window.requestAnimationFrame((()=>{const t=s.getActiveElement(document);this.element&&t===this.element&&!this.props.disableSelection&&this.element.setSelectionRange(e.start,e.end)}))}triggerChange(e,t){this.valueDuringOnChange=this.value,this.forceUpdate(),this.props.onChange&&!a.isEqual(t,this.value)&&this.props.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.value,target:this}),this.valueDuringOnChange=void 0}selectionBySymbol(e){let t=-1,i=0;for(let s=0;s<this.currentFormat.length;s++)this.currentFormat[s]===e&&(i=s+1,-1===t&&(t=s));return t<0&&(t=0),{start:t,end:i}}selectionByIndex(e){let t={start:e,end:e};for(let i=e,s=e-1;i<this.currentFormat.length||s>=0;i++,s--){if(i<this.currentFormat.length&&"_"!==this.currentFormat[i]){t=this.selectionBySymbol(this.currentFormat[i]);break}if(s>=0&&"_"!==this.currentFormat[s]){t=this.selectionBySymbol(this.currentFormat[s]);break}}return t}switchDateSegment(e){const{start:t,end:i}=this.selection;if(t<i&&this.currentFormat[t]!==this.currentFormat[i-1])return void this.setSelection(this.selectionByIndex(e>0?t:i-1));const s=this.currentFormat[t];let a=t+e;for(;a>0&&a<this.currentFormat.length&&(this.currentFormat[a]===s||"_"===this.currentFormat[a]);)a+=e;if("_"===this.currentFormat[a])return;let n=a;for(;n>=0&&n<this.currentFormat.length&&this.currentFormat[n]===this.currentFormat[a];)n+=e;a>n&&(n+1!==t||a+1!==i)?this.setSelection({start:n+1,end:a+1}):a<n&&(a!==t||n!==i)&&this.setSelection({start:a,end:n})}modifyDateSegmentValue(e,t){if(!this.kendoDate)return;const i=this.value,s=this.currentFormat[this.selection.start],a=this.kendoDate.symbolMap(s),n=((this.props.steps||{})[a]||1)*e;this.kendoDate.modifyPart(s,n),this.triggerChange(t,i)}};St.displayName="DateInput",St.propTypes={value:i.instanceOf(Date),format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),formatPlaceholder:i.oneOfType([i.oneOf(["wide","narrow","short","formatPattern"]),i.shape({year:i.string,month:i.string,day:i.string,hour:i.string,minute:i.string,second:i.string})]),width:i.oneOfType([i.string,i.number]),tabIndex:i.number,title:i.string,steps:i.shape({year:i.number,month:i.number,day:i.number,hour:i.number,minute:i.number,second:i.number}),min:i.instanceOf(Date),max:i.instanceOf(Date),disabled:i.bool,spinners:i.bool,name:i.string,dir:i.string,label:i.string,id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,ariaLabel:i.string,ariaRole:i.string,ariaHasPopup:i.oneOfType([i.bool,i.string]),ariaExpanded:i.oneOfType([i.bool]),onChange:i.func,validationMessage:i.string,required:i.bool,validate:i.bool,valid:i.bool,size:i.oneOf([null,"small","medium","large"]),rounded:i.oneOf([null,"small","medium","large","full"]),fillMode:i.oneOf([null,"solid","flat","outline"])},St.defaultProps={format:"d",size:"medium",rounded:"medium",fillMode:"solid",formatPlaceholder:"wide",spinners:!1,disabled:!1,max:a.cloneDate(P),min:a.cloneDate(T),minTime:a.cloneDate(F),maxTime:a.cloneDate(R),required:!1,validityStyles:!0,validationMessage:"Please enter a valid value!",placeholder:null,ariaHasPopup:"grid"};let xt=St;const Ct=s.createPropsContext(),It=s.withIdHOC(s.withPropsContext(Ct,xt));It.displayName="KendoReactDateInput",n.registerForIntl(xt),n.registerForLocalization(xt);const Mt=o.Button,Ot=u.forwardRef(((e,t)=>{const{_ref:i}=e,a=u.useRef(null);u.useImperativeHandle(t,(()=>a.current)),u.useImperativeHandle(i,(()=>a.current));const n=u.useMemo((()=>s.classNames(e.className,"k-picker-wrap")),[e.className]);return u.createElement("span",{ref:a,id:e.id,style:e.style,className:n,tabIndex:e.tabIndex},e.children)})),Et=e=>{const{dateInput:t,...i}=e,s=(e=>{const[t,i]=u.useState(!1);return u.useEffect((()=>{e.current&&i(!!e.current.text)})),{editorValue:t}})(t);return u.createElement(l.FloatingLabel,{...i,...s})},Vt=e=>{const{footer:t,children:i,windowWidth:s=0,navigatable:a,navigatableElements:n,expand:l,animation:h,onClose:c,adaptiveTitle:p,mobileFilter:m}=e,g={navigatable:a||!1,navigatableElements:n||[],expand:l,animation:!1!==h,onClose:c,animationStyles:s<=500?{top:0,width:"100%",height:"100%"}:void 0,className:s<=500?"k-adaptive-actionsheet k-actionsheet-fullscreen":"k-adaptive-actionsheet k-actionsheet-bottom"};return u.createElement(d.ActionSheet,{...g},u.createElement(d.ActionSheetHeader,{className:"k-text-center"},u.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},u.createElement("div",{className:"k-actionsheet-title"},u.createElement("div",null,p)),u.createElement("div",{className:"k-actionsheet-actions"},u.createElement(o.Button,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:r.xIcon,onClick:c}))),m&&u.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},m)),i,t&&u.createElement(d.ActionSheetFooter,{className:"k-actions k-actions-stretched"},u.createElement(o.Button,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),u.createElement(o.Button,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))},Tt=768,Pt=class e extends u.Component{constructor(t){super(t),this._element=null,this._dateInput=u.createRef(),this._calendar=null,this.shouldFocusDateInput=!1,this.prevShow=!1,this.focus=()=>{this.dateInput&&this.dateInput.focus()},this.setCalendarRef=e=>{this._calendar=e},this.nextValue=(e,t)=>void 0!==e.value?e.value:t.value,this.nextShow=(e,t)=>void 0!==e.show?e.show:t.show,this.renderPopup=()=>{const{disabled:e,min:t,max:i,weekNumber:n,focusedDate:o,popupSettings:r}=this.props,{popupClass:l,...h}=r,d=this.show,c=this.value,p=c&&a.getDate(c),m=s.classNames("k-calendar-container k-group k-reset",l),g={popupClass:"k-datepicker-popup",show:d,anchor:this._element,className:m,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"},...h},v={disabled:e,value:p,min:t,max:i,weekNumber:n,focusedDate:o,className:this.mobileMode?"k-calendar-lg":"",navigation:!this.mobileMode,onChange:this.handleCalendarValueChange};return this.mobileMode?u.createElement(this.calendarComp,{_ref:this.setCalendarRef,...v}):u.createElement(this.popupComp,{...g},u.createElement(this.calendarComp,{_ref:this.setCalendarRef,...v}))},this.renderAdaptivePopup=()=>{const{windowWidth:e=0}=this.state,t={expand:this.show,onClose:this.handleBlur,adaptiveTitle:this.props.adaptiveTitle,windowWidth:e};return u.createElement(Vt,{...t},u.createElement(d.ActionSheetContent,{className:"!k-overflow-hidden"},this.renderPopup()))},this.handleInputValueChange=e=>{this.handleValueChange(e.value,e)},this.handleCalendarValueChange=e=>{const t=this.mergeTime(e.value);this.handleValueChange(t,e)},this.handleValueChange=(e,t)=>{this.setState({value:a.cloneDate(e||void 0)}),this.valueDuringOnChange=e,this.showDuringOnChange=!1,this.mobileMode||(this.shouldFocusDateInput=!0);const{onChange:i}=this.props;i&&i.call(void 0,{syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:this.value,show:this.show,target:this}),this.valueDuringOnChange=void 0,this.showDuringOnChange=void 0,this.setShow(!1)},this.handleFocus=()=>{this.setState({focused:!0})},this.handleBlur=()=>{this.setState({focused:!1}),this.setShow(!1)},this.handleIconClick=()=>{this.props.disabled||(this.shouldFocusDateInput=!0,this.setShow(!this.show))},this.handleIconMouseDown=e=>{e.preventDefault()},this.handleKeyDown=e=>{const{altKey:t,keyCode:i}=e;if(i===s.Keys.esc)return this.shouldFocusDateInput=!0,void this.setShow(!1);t&&(i===s.Keys.up||i===s.Keys.down)&&(e.preventDefault(),e.stopPropagation(),this.shouldFocusDateInput=i===s.Keys.up,this.setShow(i===s.Keys.down))},s.validatePackage(p),this.state={value:this.props.defaultValue||e.defaultProps.defaultValue,show:this.props.defaultShow||e.defaultProps.defaultShow,focused:!1}}get _popupId(){return this.props.id+"-popup-id"}get document(){if(s.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Tt&&this.props.adaptive)}get dateInput(){return this._dateInput.current}get calendar(){return this._calendar}get value(){const e=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==e?a.cloneDate(e):null}get show(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show}get name(){return this.props.name}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get dateInputComp(){return this.props.dateInput||e.defaultProps.dateInput}get toggleButtonComp(){return this.props.toggleButton||e.defaultProps.toggleButton}get calendarComp(){return this.props.calendar||e.defaultProps.calendar}get popupComp(){return this.props.popup||e.defaultProps.popup}get pickerWrapComp(){return this.props.pickerWrap||e.defaultProps.pickerWrap}get validity(){const e=_(this.value,this.min,this.max),t=void 0!==this.props.validationMessage,i=(!this.required||null!==this.value)&&e,s=void 0!==this.props.valid?this.props.valid:i;return{customError:t,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:s,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}componentDidMount(){var e;this.observerResize=s.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.show&&this.forceUpdate(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentDidUpdate(){this._calendar&&this._calendar.element&&this.show&&!this.prevShow&&this._calendar.element.focus({preventScroll:!0}),this.dateInput&&this.dateInput.element&&!this.show&&this.shouldFocusDateInput&&this.dateInput.element.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1}componentWillUnmount(){var e;clearTimeout(this.nextTickId),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const{size:t=e.defaultProps.size,rounded:i=e.defaultProps.rounded,fillMode:a=e.defaultProps.fillMode,disabled:o,tabIndex:l,title:h,id:d,format:c,formatPlaceholder:p,min:m,max:g,className:v,width:f,name:w,validationMessage:b,required:D,validityStyles:y,ariaLabelledBy:k,ariaDescribedBy:S,ariaLabel:x,placeholder:C,label:I,popupSettings:M,defaultValue:O,defaultShow:E,value:V,popup:T,weekNumber:P,dateInput:F,calendar:R,toggleButton:N,onChange:L,onBlur:B,onFocus:_,show:A,onOpen:H,pickerWrap:z,...q}=this.props,K=this.value,W=!this.validityStyles||this.validity.valid,U={disabled:o,format:c,formatPlaceholder:p,id:d,ariaLabelledBy:k,ariaDescribedBy:S,ariaLabel:x,max:g,min:m,name:w,onChange:this.handleInputValueChange,required:D,tabIndex:this.show?-1:l,title:h,valid:this.validity.valid,validationMessage:b,validityStyles:y,value:K,label:void 0,placeholder:this.state.focused?null:C,ariaExpanded:this.show,size:null,fillMode:null,rounded:null},Y=n.provideLocalizationService(this).toLanguageString(ae,ke[ae]),$=u.createElement(s.AsyncFocusBlur,{onFocus:this.handleFocus,onBlur:this.mobileMode?void 0:this.handleBlur,onSyncBlur:this.props.onBlur,onSyncFocus:this.props.onFocus},(e=>u.createElement(u.Fragment,null,u.createElement("span",{...I?{}:q,ref:e=>{this._element=e},className:s.classNames("k-input","k-datepicker",{[`k-input-${s.kendoThemeMaps.sizeMap[t]||t}`]:t,[`k-rounded-${s.kendoThemeMaps.roundedMap[i]||i}`]:i,[`k-input-${a}`]:a,"k-invalid":!W,"k-required":this.required,"k-disabled":o},v),onKeyDown:this.handleKeyDown,style:{width:f},onFocus:e.onFocus,onBlur:e.onBlur,onClick:this.mobileMode?this.handleIconClick:void 0},u.createElement(this.dateInputComp,{_ref:this._dateInput,ariaRole:"combobox",readonly:this.mobileMode,ariaExpanded:this.show,ariaControls:this._popupId,...U}),u.createElement(this.toggleButtonComp,{type:"button",icon:"calendar",svgIcon:r.calendarIcon,title:Y,className:"k-input-button",rounded:null,onClick:this.mobileMode?void 0:this.handleIconClick,"aria-label":Y,onMouseDown:this.handleIconMouseDown}),!this.mobileMode&&this.renderPopup()),this.mobileMode&&this.renderAdaptivePopup())));return I?u.createElement(Et,{dateInput:this._dateInput,label:I,editorId:d,editorValid:W,editorDisabled:o,children:$,style:{width:f},...q}):$}setShow(e){const{onOpen:t,onClose:i}=this.props;this.show!==e&&(this.setState({show:e}),e&&t&&t.call(void 0,{target:this}),!e&&i&&i.call(void 0,{target:this}))}mergeTime(e){return this.value&&e?N(e,this.value):e}nextTick(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((()=>e()))}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}};Pt.displayName="DatePicker",Pt.propTypes={className:i.string,defaultShow:i.bool,defaultValue:i.instanceOf(Date),disabled:i.bool,focusedDate:i.instanceOf(Date),format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),formatPlaceholder:i.oneOfType([i.oneOf(["wide","narrow","short","formatPattern"]),i.shape({year:i.string,month:i.string,day:i.string,hour:i.string,minute:i.string,second:i.string})]),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,ariaLabel:i.string,min:i.instanceOf(Date),max:i.instanceOf(Date),name:i.string,popupSettings:i.shape({animate:i.bool,appendTo:i.any,popupClass:i.string}),show:i.bool,tabIndex:i.number,title:i.string,value:i.instanceOf(Date),weekNumber:i.bool,width:i.oneOfType([i.number,i.string]),validationMessage:i.string,required:i.bool,validate:i.bool,valid:i.bool,size:i.oneOf([null,"small","medium","large"]),rounded:i.oneOf([null,"small","medium","large","full"]),fillMode:i.oneOf([null,"solid","flat","outline"]),adaptive:i.bool,adaptiveTitle:i.string},Pt.defaultProps={defaultShow:!1,defaultValue:null,dateInput:It,calendar:et,toggleButton:Mt,popup:h.Popup,pickerWrap:Ot,disabled:!1,format:"d",max:P,min:T,popupSettings:{},tabIndex:0,weekNumber:!1,required:!1,validityStyles:!0,size:"medium",rounded:"medium",fillMode:"solid"};let Ft=Pt;const Rt=s.createPropsContext(),Nt=s.withIdHOC(s.withPropsContext(Rt,Ft));Nt.displayName="KendoReactDatePicker",n.registerForLocalization(Ft);const Lt=(e,t)=>{const i=a.cloneDate(e);return i.setHours(t),i},Bt=e=>null!==e&&e<12,_t=(e,t,i)=>!t&&!i||e>=t&&e<=i,At=(e,t,i)=>!t&&!i||e>=t||e<=i;let Ht=class{constructor(e){this.intl=e,this.min=null,this.max=null,this.part=null}apply(e,t){const i=e.getHours(),s=Bt(i),a=Bt(t.getHours());if(s&&a||!s&&!a)return e;const[n,o=24]=this.normalizedRange(),r=i+(a?-12:12);return Lt(e,Math.min(Math.max(n,r),o||24))}configure(e){const{min:t=this.min,max:i=this.max,part:s=this.part}=e;this.min=t,this.max=i,this.part=s}data(e){const t=this.part&&this.part.names;if(!t||!this.min)return[];const i=[],[s,a]=this.normalizedRange(),n=this.intl.dateFormatNames(t);return Bt(s)&&i.push({text:n.am,value:Lt(this.min,s)}),(e=>null!==e&&(!e||e>11))(a)&&i.push({text:n.pm,value:Lt(this.min,Math.max(12,a))}),this.min.getHours()!==s?i.reverse():i}isRangeChanged(e,t){return!1}limitRange(e,t,i){return[e,t]}total(){const[e,t]=this.normalizedRange();return(e||t)&&(e>11||t<12)?1:2}selectedIndex(e){if(!this.valueInList(e)||!this.min)return-1;const t=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?t:0===t?1:0}valueInList(e){return!(!this.min||!this.max)&&(this.min.getHours()!==this.normalizedRange()[0]?At:_t)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),t=this.max.getHours();return[Math.min(e,t),Math.max(e,t)]}},zt=class{constructor(){this.itemHeight=0,this.timeListHeight=0,this.didCalculate=!1}ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!s.canUseDOM)return;const t=W("div"),i=W("span"),a=W("ul"),n=W("li"),o=t([i("minute","k-title"),t([t([a([n("<span>02</span>","k-item")],"k-reset")],"k-content k-scrollable k-time-container")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}),r=e&&e.querySelector(".k-time-container")||document.body,l=r.appendChild(o);this.timeListHeight=l.querySelector(".k-scrollable").offsetHeight,this.itemHeight=l.querySelector("li").offsetHeight,r.removeChild(l),this.didCalculate=!0}};const qt=(e=>t=>t%e)(24),Kt=(e,t)=>qt(24+e-t),Wt=e=>(t,i)=>i&&a.getDate(t).getTime()!==a.getDate(i).getTime()?mt(t,e):t,Ut=Wt(0),Yt=Wt(23);class $t{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1,this.min=null,this.max=null,this.step=0,this.toListItem=null}apply(e,t){return mt(e,t.getHours())}configure(e){const{boundRange:t=this.boundRange,insertUndividedMax:i=this.insertUndividedMax,min:s=this.min,max:a=this.max,part:n,step:o=this.step}=e;this.boundRange=t,this.insertUndividedMax=i,this.toListItem=e=>{const t=mt(V,e);return{text:this.intl.formatDate(t,n.pattern),value:t}},this.min=s,this.max=a,this.step=o}data(e){const[t]=this.range(e),i=((e,t)=>i=>qt(e+i*t))(t,this.step),s=wt(0,this.countFromMin(e)).map((e=>this.toListItem&&this.toListItem(i(e))));return this.addLast(s),e&&this.addMissing(s,e),s}isRangeChanged(e,t){return!(!this.min||!this.max)&&(!a.isEqual(this.min,e)||!a.isEqual(this.max,t))}limitRange(e,t,i){return this.boundRange?[Ut(e,i),Yt(t,i)]:[e,t]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||(this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e))}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&this.toListItem&&e.push(this.toListItem(this.lastHour(t))),e}addMissing(e,t){if(this.valueInList(t))return e;if(this.toListItem){const i=this.toListItem(t.getHours());e.splice(this.selectedIndex(t),0,i)}return e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(Kt(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return null!==this.max&&this.isMissing(mt(this.max,this.lastHour(e)))}divideByStep(e){return Kt(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getHours(),i.getHours()]}}const jt=(e=>t=>t%e)(60),Zt=(e,t)=>jt(60+e-t),Gt=e=>(t,i)=>i&&t.getHours()!==i.getHours()?gt(t,e):t,Xt=Gt(0),Jt=Gt(59);let Qt=class{constructor(e){this.intl=e,this.toListItem=null,this.min=null,this.max=null,this.step=0,this.insertUndividedMax=!1}apply(e,t){return gt(e,t.getMinutes())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:s=this.max,part:a,step:n=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=gt(V,e);return{text:this.intl.formatDate(t,a.pattern),value:t}},this.min=i,this.max=s,this.step=n}data(e){const[t]=this.range(e),i=((e,t)=>i=>jt(e+i*t))(t,this.step),s=wt(0,this.countFromMin(e)).map((e=>this.toListItem&&this.toListItem(i(e))));return this.addLast(s),e&&this.addMissing(s,e),s}isRangeChanged(e,t){return!(null===this.min||null===this.max||a.isEqual(this.min,e)&&a.isEqual(this.max,t))}limitRange(e,t,i){return[Xt(e,i),Jt(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||(this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e))}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&this.toListItem&&e.push(this.toListItem(this.lastMinute(t))),e}addMissing(e,t){if(this.valueInList(t))return e;if(this.toListItem){const i=this.toListItem(t.getMinutes());e.splice(this.selectedIndex(t),0,i)}return e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(Zt(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return null!==this.max&&this.isMissing(gt(this.max,this.lastMinute(e)))}divideByStep(e){return Zt(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getMinutes(),i.getMinutes()]}};const ei=(e=>t=>t%e)(60),ti=(e,t)=>ei(60+e-t),ii=e=>(t,i)=>!i||t.getMinutes()===i.getMinutes()&&t.getHours()===i.getHours()?t:vt(t,e),si=ii(0),ai=ii(59);class ni{constructor(e){this.intl=e,this.toListItem=null,this.min=null,this.max=null,this.step=0,this.insertUndividedMax=!1}apply(e,t){return vt(e,t.getSeconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:s=this.max,part:a,step:n=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=vt(V,e);return{text:this.intl.formatDate(t,a.pattern),value:t}},this.min=i,this.max=s,this.step=n}data(e){const[t]=this.range(e),i=((e,t)=>i=>ei(e+i*t))(t,this.step),s=wt(0,this.countFromMin(e)).map((e=>this.toListItem&&this.toListItem(i(e))));return this.addLast(s),e&&this.addMissing(s,e),s}isRangeChanged(e,t){return!(null===this.min||null===this.max||a.isEqual(this.min,e)&&a.isEqual(this.max,t))}limitRange(e,t,i){return[si(e,i),ai(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||(this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e))}divideByStep(e){return ti(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&this.toListItem&&e.push(this.toListItem(this.lastSecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;if(this.toListItem){const i=this.toListItem(t.getSeconds());e.splice(this.selectedIndex(t),0,i)}return e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(ti(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return null!==this.max&&this.isMissing(vt(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getSeconds(),i.getSeconds()]}}const oi={[s.Keys.end]:(e,t)=>e[e.length-1],[s.Keys.home]:(e,t)=>e[0],[s.Keys.up]:(e,t)=>e[t-1],[s.Keys.down]:(e,t)=>e[t+1]},ri={[nt]:Ht,[ot]:$t,[rt]:Qt,[lt]:ni},li=class e extends u.Component{constructor(t){super(t),this.intl=null,this._element=null,this.service=null,this.virtualization=null,this.topOffset=0,this.bottomOffset=0,this.itemHeight=0,this.listHeight=0,this.topThreshold=0,this.bottomThreshold=0,this.animateToIndex=!1,this.focus=e=>{Promise.resolve().then((()=>{this.element&&this.element.focus(e)}))},this.itemOffset=e=>{if(!this.virtualization||!this.service)return-1;const t=this.service.selectedIndex(this.props.value),i=this.virtualization.activeIndex(),s=this.virtualization.itemOffset(i),a=Math.abs(Math.ceil(e)-s);if(t===i&&a<2)return s;const n=t>i;return n&&a>=this.bottomThreshold||!n&&a>this.topThreshold?this.virtualization.itemOffset(i+1):s},this.calculateHeights=()=>{this.dom.didCalculate&&(this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.props.mobileMode&&(this.topOffset+=9,this.bottomOffset+=18),this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight)},this.configureServices=({min:e,max:t,value:i}=this.props)=>{if(this.service){const[s,a]=this.service.limitRange(e||this.min,t||this.max,i||this.props.value);this.service.configure(this.serviceSettings({min:s,max:a}))}},this.serviceSettings=t=>{const i={boundRange:this.props.boundRange||e.defaultProps.boundRange,insertUndividedMax:!1,min:a.cloneDate(this.min),max:a.cloneDate(this.max),part:this.props.part,step:this.step},s=Object.assign({},i,t);return s.boundRange="hour"!==s.part.type||this.props.boundRange||e.defaultProps.boundRange,s},this.handleScrollAction=({target:e,animationInProgress:t})=>{if(this.virtualization&&this.service&&e&&!t){this.animateToIndex=!1;const t=this.virtualization.itemIndex(this.itemOffset(e.scrollTop)),i=this.service.data(this.props.value)[t];this.handleChange(i)}},this.handleFocus=e=>{const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleBlur=e=>{const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleMouseOver=()=>{if(!this._element)return;const e=s.getActiveElement(document);document&&e!==this._element&&this.props.show&&this._element.focus({preventScroll:!0})},this.handleKeyDown=e=>{if(!this.service)return;const{keyCode:t}=e;(t===s.Keys.down||t===s.Keys.up||t===s.Keys.end||t===s.Keys.home)&&e.preventDefault();const i=(oi[e.keyCode]||s.noop)(this.service.data(this.props.value),this.service.selectedIndex(this.props.value));i&&this.handleChange(i)},this.handleChange=U((e=>{if(!this.service)return;const t=this.service.apply(this.props.value,e.value);if(this.props.value.getTime()===t.getTime())return;const{onChange:i}=this.props;i&&i.call(void 0,t)}),100),this.dom=new zt}get element(){return this._element}get animate(){return!(!this.props.smoothScroll||!this.animateToIndex)}get min(){return this.props.min||e.defaultProps.min}get max(){return this.props.max||e.defaultProps.max}get step(){return void 0!==this.props.step&&0!==this.props.step?Math.floor(this.props.step):e.defaultProps.step}componentDidMount(){Promise.resolve().then((()=>{this._element&&(this.dom.calculateHeights(this._element),this.forceUpdate())}))}componentDidUpdate(){if(!this.virtualization||!this.service)return;const e=this.service.selectedIndex(this.props.value);this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](e),this.animateToIndex=!0}render(){if(!this.props.part.type||!ri[this.props.part.type])return;this.calculateHeights(),this.intl=n.provideIntlService(this),this.service=new ri[this.props.part.type](this.intl),this.configureServices();const e=this.service.data(this.props.value),t="translateY("+this.topOffset+"px)",i=this.service.total(this.props.value),s=u.createElement("ul",{style:{transform:t,msTransform:t},className:"k-reset"},e.map(((e,t)=>u.createElement("li",{key:t,className:"k-item",onClick:()=>{this.handleChange(e)}},u.createElement("span",null,e.text)))));return u.createElement("div",{className:"k-time-list",id:String(this.props.id||""),tabIndex:this.props.disabled?-1:0,ref:e=>{this._element=e},onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseOver:this.handleMouseOver},this.dom.didCalculate?u.createElement(S,{bottomOffset:this.bottomOffset,children:s,className:"k-time-container",itemHeight:this.itemHeight,maxScrollDifference:this.listHeight,onScrollAction:this.handleScrollAction,ref:e=>{this.virtualization=e},role:"presentation",skip:0,tabIndex:-1,take:i,topOffset:this.topOffset,total:i}):u.createElement("div",{className:"k-time-container"},s))}};li.propTypes={id:i.number,max:i.instanceOf(Date),min:i.instanceOf(Date),part:function(e,t,i){const s=e[t];if(!s||!ri[s.type])throw new Error(`\n                    Invalid prop '${t}' supplied to ${i}.\n                    Supported part types are hour|minute|second|dayperiod.\n                `);return null},step:function(e,t,i){const s=e[t];if(void 0!==s&&s<=0)throw new Error(`\n                    Invalid prop '${t}' supplied to ${i}.\n                    ${t} cannot be less than 1.\n                `);return null},value:i.instanceOf(Date),smoothScroll:i.bool,show:i.bool},li.defaultProps={boundRange:!1,max:R,min:V,step:1,smoothScroll:!0};let hi=li;n.registerForIntl(hi);const di=new RegExp(`${ot}|${rt}|${lt}|${nt}|literal`),ci=class e extends u.Component{constructor(t){super(t),this._element=null,this._nowButton=null,this.dateFormatParts=[],this.timeLists=[],this.focus=(e,t)=>{Promise.resolve().then((()=>{t&&this._nowButton&&this._nowButton.element&&this._nowButton.element.focus();const i=this.timeLists[0];!t&&-1===this.state.activeListIndex&&!this.hasActiveButton()&&i&&i.element&&i.focus(e)}))},this.timeFormatReducer=(e,t)=>e+t.pattern,this.timeFormatFilter=(e,t,i)=>{const s=t>=1&&i[t-1];return s&&s&&"literal"===e.type?di.test(s.type||""):di.test(e.type||"")},this.focusList=e=>{this.timeLists.length&&this.timeLists.reduce(this.listReducer,[]).map((t=>1===e?t.next:t.prev)).map((e=>e&&e.element&&e.element.focus({preventScroll:!0})))},this.listReducer=(e,t,i,s)=>e.length||t.props.id!==this.state.activeListIndex?e:[{next:s[i+1]||t,prev:s[i-1]||t}],this.showNowButton=()=>!this.hasSteps()&&this.props.nowButton&&Dt(ft(),this.min,this.max),this.handleKeyDown=e=>{const{keyCode:t}=e;switch(t){case s.Keys.left:return e.preventDefault(),void this.focusList(0);case s.Keys.right:return e.preventDefault(),void this.focusList(1);default:return}},this.handleListBlur=()=>{this.nextTick((()=>{this.setState({activeListIndex:-1})}))},this.handleListFocus=e=>{clearTimeout(this.nextTickId),this.setState({activeListIndex:e})},this.handleChange=e=>{const{onChange:t}=this.props;t&&t.call(void 0,e)},this.snapTime=pt(ut(this.props.steps,this.props.min||e.defaultProps.min)),this.state={activeListIndex:-1},this.hasActiveButton=this.hasActiveButton.bind(this)}get element(){return this._element}get value(){return((e,t,i)=>{if(!e||!t||!i)return e;const{candidateValue:s,minValue:a,maxValue:n}=bt(e,t,i);return s<a?N(e,t):s>n?N(e,i):e})(this.snapTime(a.cloneDate(this.props.value||V)),this.min,this.max)}get intl(){return n.provideIntlService(this)}get min(){return this.snapTime(this.props.min||e.defaultProps.min)}get max(){return this.snapTime(this.props.max||e.defaultProps.max)}get steps(){return this.props.steps||e.defaultProps.steps}get boundRange(){return void 0!==this.props.boundRange?this.props.boundRange:e.defaultProps.boundRange}componentWillUnmount(){clearTimeout(this.nextTickId)}componentDidMount(){const{onMount:e}=this.props;e&&e.call(void 0,this.value)}render(){const{format:t,smoothScroll:i,onNowClick:a,className:r,disabled:l,mobileMode:h,show:d,onNowKeyDown:c}=this.props;this.snapTime=pt(ut(this.steps,this.min)),this.dateFormatParts=this.intl.splitDateFormat(t||e.defaultProps.format).filter(this.timeFormatFilter);const p=s.classNames({"k-disabled":l,"k-time-part":h},r);this.timeLists=[];const m=n.provideLocalizationService(this),g=m.toLanguageString(ce,ke[ce]);return u.createElement("div",{className:p},u.createElement("div",{className:"k-time-header"},u.createElement("span",{className:"k-title"},this.intl.formatDate(this.value,this.dateFormatParts.reduce(this.timeFormatReducer,""))),this.showNowButton()&&u.createElement(o.Button,{type:"button",ref:e=>{this._nowButton=e},className:"k-time-now",fillMode:"flat",themeColor:"primary",title:g,onKeyDown:c,"aria-label":g,onClick:a,tabIndex:l?-1:0},m.toLanguageString(de,ke[de]))),u.createElement("div",{className:"k-time-list-container",onKeyDown:this.handleKeyDown},u.createElement("span",{className:"k-time-highlight"}),this.dateFormatParts.map(((e,t)=>"literal"!==e.type?u.createElement("div",{key:t,className:s.classNames("k-time-list-wrapper",{"k-focus":t===this.state.activeListIndex}),role:"presentation",tabIndex:-1},u.createElement("span",{className:"k-title",onMouseDown:e=>{e.preventDefault()}},this.intl.dateFieldName(e)),u.createElement(hi,{min:this.min,max:this.max,boundRange:this.boundRange,part:e,step:e.type?this.steps[e.type]:1,smoothScroll:i,ref:e=>{e&&this.timeLists.push(e)},id:t,onFocus:()=>{this.handleListFocus(t)},onBlur:this.handleListBlur,onChange:this.handleChange,value:this.value,disabled:l,show:d,mobileMode:h})):u.createElement("div",{key:t,className:"k-time-separator"},e.pattern)))))}nextTick(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((()=>e()))}hasActiveButton(){const e=s.getActiveElement(document);return this._nowButton&&e===this._nowButton.element}hasSteps(){const e=Object.keys(this.steps);return e.length!==e.reduce(((e,t)=>e+this.steps[t]),0)}};ci.propTypes={cancelButton:i.bool,disabled:i.bool,format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),max:i.instanceOf(Date),min:i.instanceOf(Date),nowButton:i.bool,steps:i.shape({hour:i.number,minute:i.number,second:i.number}),smoothScroll:i.bool,tabIndex:i.number,value:i.instanceOf(Date),show:i.bool},ci.defaultProps={value:null,disabled:!1,nowButton:!0,cancelButton:!0,format:"hh:mm a",min:F,max:R,steps:{},boundRange:!1};let ui=ci;n.registerForIntl(ui),n.registerForLocalization(ui);const pi=class e extends u.Component{constructor(t){super(t),this._element=null,this._cancelButton=null,this._acceptButton=null,this.timePart=null,this.focusActiveList=()=>{this.timePart&&this.timePart.focus({preventScroll:!0})},this.handleKeyDown=e=>{const{keyCode:t}=e;t!==s.Keys.enter||this.hasActiveButton()||this.handleAccept(e)},this.revertToNowButton=e=>{const{keyCode:t,shiftKey:i}=e;!i&&t===s.Keys.tab&&(e.preventDefault(),!1!==this.props.nowButton?this.timePart&&this.timePart.focus({preventScroll:!0},!0):this.timePart&&this.timePart.focus({preventScroll:!0}))},this.handleNowKeyDown=e=>{var t;const{keyCode:i,shiftKey:a}=e;a&&i===s.Keys.tab?(e.preventDefault(),this._acceptButton&&(null==(t=this._acceptButton.element)||t.focus({preventScroll:!0}))):i===s.Keys.enter&&(e.stopPropagation(),this.handleNowClick(e))},this.handleAccept=e=>{const t=this.mergeValue(a.cloneDate(this.value||ft()),this.timePart?this.timePart.value:this.current);this.setState({value:t}),this.valueDuringOnChange=t;const{onChange:i}=this.props;i&&i.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.value,target:this}),this.valueDuringOnChange=void 0},this.handleReject=e=>{this.setState({current:this.value});const{onReject:t}=this.props;t&&t.call(void 0,e)},this.handleNowClick=e=>{const t=this.mergeValue(a.cloneDate(this.value||ft()),ft());this.setState({current:t,value:t}),this.valueDuringOnChange=t;const{onChange:i}=this.props;i&&i.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.value,target:this}),this.valueDuringOnChange=void 0},this.handleChange=e=>{this.setState({current:e});const{handleTimeChange:t}=this.props;t&&t.call(void 0,{time:e})},this.dateFormatParts=this.intl.splitDateFormat(this.props.format||e.defaultProps.format),this.mergeValue=(e=>(t,i)=>(t.setHours(...e.map((e=>e(t,i)))),t))(ct(this.dateFormatParts)),this.hasActiveButton=this.hasActiveButton.bind(this),this.state={current:this.props.value||V,value:this.props.value||e.defaultProps.value}}get element(){return this._element}get value(){const e=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==e?a.cloneDate(e):null}get intl(){return n.provideIntlService(this)}get current(){return null!==this.state.current?a.cloneDate(this.state.current):null}componentWillUnmount(){clearTimeout(this.nextTickId)}render(){const{format:e,cancelButton:t,disabled:i,tabIndex:a,className:r,smoothScroll:l,min:h,max:d,boundRange:c,nowButton:p,steps:m,show:g,mobileMode:v}=this.props,f=n.provideLocalizationService(this),w=f.toLanguageString(ue,ke[ue]),b=f.toLanguageString(pe,ke[pe]);return u.createElement("div",{ref:e=>{this._element=e},tabIndex:i?void 0:a||0,className:s.classNames("k-timeselector",r,{"k-disabled":i}),onKeyDown:this.handleKeyDown},u.createElement(ui,{ref:e=>{this.timePart=e},value:this.current,onChange:this.handleChange,onNowClick:this.handleNowClick,format:e,smoothScroll:l,min:h,max:d,boundRange:c,disabled:i,nowButton:p,steps:m,show:g,mobileMode:v,onNowKeyDown:this.handleNowKeyDown}),this.props.footer&&u.createElement("div",{className:"k-time-footer k-actions k-actions-stretched"},t&&u.createElement(o.Button,{type:"button",ref:e=>{this._cancelButton=e},className:"k-time-cancel",onClick:this.handleReject,title:w,"aria-label":w},w),u.createElement(o.Button,{type:"button",ref:e=>{this._acceptButton=e},className:"k-time-accept",themeColor:"primary",onClick:this.handleAccept,onKeyDown:this.revertToNowButton,title:b,"aria-label":b},b)))}nextTick(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((()=>e()))}hasActiveButton(){if(!this._acceptButton||!this._acceptButton.element)return!1;const e=s.getActiveElement(document);return this._acceptButton&&e===this._acceptButton.element||this._cancelButton&&e===this._cancelButton.element}};pi.propTypes={cancelButton:i.bool,className:i.string,disabled:i.bool,format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),max:i.instanceOf(Date),min:i.instanceOf(Date),nowButton:i.bool,steps:i.shape({hour:i.number,minute:i.number,second:i.number}),smoothScroll:i.bool,tabIndex:i.number,value:i.instanceOf(Date),show:i.bool},pi.defaultProps={value:null,disabled:!1,cancelButton:!0,format:"t",min:F,max:R,boundRange:!1,footer:!0};let mi=pi;n.registerForIntl(mi),n.registerForLocalization(mi);const gi=class e extends u.Component{constructor(t){super(t),this._element=null,this._dateInput=u.createRef(),this._timeSelector=null,this.shouldFocusDateInput=!1,this.prevShow=!1,this.focus=()=>{this.dateInput&&this.dateInput.focus()},this.renderTimeSelector=()=>{const{smoothScroll:e,cancelButton:t,nowButton:i,disabled:s,format:a,steps:n}=this.props;return u.createElement(mi,{ref:this.setTimeSelectorRef,className:this.mobileMode?"k-reset k-timeselector-lg":"",mobileMode:this.mobileMode,show:this.show,cancelButton:t,disabled:s,nowButton:i,format:a,min:this.min,max:this.max,steps:n,smoothScroll:e,value:this.value,footer:!this.mobileMode,handleTimeChange:this.mobileMode&&this.handleTimeChange,onChange:this.handleValueChange,onReject:this.handleValueReject})},this.renderPopup=()=>{const{popupClass:e,...t}=this.popupSettings,i=s.classNames("k-group k-reset",e),a={popupClass:"k-timepicker-popup",show:this.show,animate:null!==this.element,anchor:this.element,className:i,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"},...t};return this.props.popup?u.createElement(this.props.popup,{...a},this.renderTimeSelector()):u.createElement(h.Popup,{...a},this.renderTimeSelector())},this.renderAdaptivePopup=()=>{const{windowWidth:e=0}=this.state,t={expand:this.show,onClose:this.handleBlur,adaptiveTitle:this.props.adaptiveTitle,windowWidth:e,footer:{cancelText:this.localizationService.toLanguageString(ge,ke[ue]),onCancel:this.handleValueReject,applyText:this.localizationService.toLanguageString(pe,ke[pe]),onApply:e=>this.handleValueChange(e)}};return u.createElement(Vt,{...t},u.createElement(d.ActionSheetContent,{className:"!k-overflow-hidden"},this.renderTimeSelector()))},this.setTimeSelectorRef=e=>{this._timeSelector=e},this.nextValue=(e,t)=>void 0!==e.value?e.value:t.value,this.nextShow=(e,t)=>void 0!==e.show?e.show:t.show,this.handleInputValueChange=e=>{const t=this.mergeTime(e.value);this.handleValueChange({...e,value:t})},this.handleTimeChange=e=>{this.setState({candidate:e.time})},this.handleValueChange=e=>{this.setState({value:a.cloneDate(e.value||this.state.candidate)}),this.valueDuringOnChange=e.value,this.showDuringOnChange=!1,this.shouldFocusDateInput=!0;const{onChange:t}=this.props,i=this.value||this.state.candidate;t&&t.call(void 0,{syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:i,show:this.show,target:this}),this.valueDuringOnChange=void 0,this.showDuringOnChange=void 0,this.setShow(!1)},this.handleFocus=()=>{this.setState({focused:!0})},this.handleBlur=()=>{this.setState({focused:!1}),this.setShow(!1)},this.handleValueReject=e=>{this.setShow(!1)},this.handleIconClick=e=>{this.props.disabled||(this.shouldFocusDateInput=!0,this.setShow(!this.show))},this.handleIconMouseDown=e=>{e.preventDefault()},this.handleKeyDown=e=>{const{altKey:t,keyCode:i}=e;if(i===s.Keys.esc)return this.shouldFocusDateInput=!0,void this.setShow(!1);t&&(i===s.Keys.up||i===s.Keys.down)&&(e.preventDefault(),e.stopPropagation(),this.shouldFocusDateInput=i===s.Keys.up,this.setShow(i===s.Keys.down))},s.validatePackage(p),this.state={value:this.props.defaultValue||e.defaultProps.defaultValue,show:this.props.defaultShow||e.defaultProps.defaultShow,focused:!1,candidate:null},this.normalizeTime=this.normalizeTime.bind(this),this.setShow=this.setShow.bind(this),this.mergeTime=this.mergeTime.bind(this)}get _popupId(){return this.props.id+"-popup-id"}get document(){if(s.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get dateInput(){return this._dateInput.current}get timeSelector(){return this._timeSelector}get value(){const e=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==e?a.cloneDate(e):null}get show(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show}get name(){return this.props.name}get validity(){const e=this.value&&this.normalizeTime(this.value),t=this.normalizeTime(this.min),i=this.normalizeTime(this.max),s=((e,t,i)=>{if(null===e)return!0;const{candidateValue:s,minValue:a,maxValue:n}=bt(e,t,i);return a<=s&&s<=n})(e,t,i),a=void 0!==this.props.validationMessage,n=(!this.required||null!==this.value)&&s,o=void 0!==this.props.valid?this.props.valid:n;return{customError:a,rangeOverflow:kt(e,i),rangeUnderflow:yt(e,t),valid:o,valueMissing:null===this.value}}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Tt&&this.props.adaptive)}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get popupSettings(){return this.props.popupSettings||e.defaultProps.popupSettings}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get dateInputComp(){return this.props.dateInput||e.defaultProps.dateInput}get localizationService(){return n.provideLocalizationService(this)}componentDidMount(){var e;this.observerResize=s.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.show&&this.forceUpdate(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentDidUpdate(){this._timeSelector&&this.show&&!this.prevShow?this._timeSelector.focusActiveList():this.dateInput&&this.dateInput.element&&!this.show&&this.shouldFocusDateInput&&this.dateInput.element.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const{size:t=e.defaultProps.size,rounded:i=e.defaultProps.rounded,fillMode:a=e.defaultProps.fillMode,disabled:n,tabIndex:l,title:h,id:d,className:c,format:p,formatPlaceholder:m,width:g,name:v,steps:f,validationMessage:w,required:b,validityStyles:D,ariaLabelledBy:y,ariaDescribedBy:k}=this.props,S=!this.validityStyles||this.validity.valid,x={disabled:n,format:p,formatPlaceholder:m,id:d,ariaLabelledBy:y,ariaDescribedBy:k,max:this.normalizeTime(this.max),min:this.normalizeTime(this.min),name:v,onChange:this.handleInputValueChange,required:b,steps:f,tabIndex:this.show?-1:l,title:h,valid:this.validity.valid,validationMessage:w,validityStyles:D,value:this.value&&this.normalizeTime(this.value),label:void 0,placeholder:this.state.focused?null:this.props.placeholder,ariaHasPopup:"dialog",ariaExpanded:this.show,size:null,fillMode:null,rounded:null,readonly:this.mobileMode},C=this.localizationService.toLanguageString(ge,ke[ge]),I=this.localizationService.toLanguageString(me,ke[me]),M=u.createElement(s.AsyncFocusBlur,{onFocus:this.handleFocus,onBlur:this.mobileMode?void 0:this.handleBlur,onSyncBlur:this.props.onBlur,onSyncFocus:this.props.onFocus},(({onFocus:e,onBlur:n})=>u.createElement(u.Fragment,null,u.createElement("div",{id:this.props.id,ref:e=>{this._element=e},className:s.classNames("k-input","k-timepicker",{[`k-input-${s.kendoThemeMaps.sizeMap[t]||t}`]:t,[`k-rounded-${s.kendoThemeMaps.roundedMap[i]||i}`]:i,[`k-input-${a}`]:a,"k-invalid":!S,"k-required":this.required,"k-disabled":this.props.disabled},c),onKeyDown:this.handleKeyDown,style:{width:g},onFocus:e,onBlur:n,onClick:this.mobileMode?this.handleIconClick:void 0},u.createElement(this.dateInputComp,{_ref:this._dateInput,ariaRole:"combobox",ariaControls:this._popupId,...x}),u.createElement(o.Button,{tabIndex:-1,type:"button",icon:"clock",svgIcon:r.clockIcon,onMouseDown:this.handleIconMouseDown,onClick:this.mobileMode?void 0:this.handleIconClick,title:I,className:"k-input-button",rounded:null,"aria-label":C}),!this.mobileMode&&this.renderPopup()),this.mobileMode&&this.renderAdaptivePopup())));return this.props.label?u.createElement(Et,{dateInput:this._dateInput,label:this.props.label,editorId:d,editorValid:S,editorDisabled:this.props.disabled,children:M,style:{width:this.props.width}}):M}normalizeTime(e){return N(V,e)}setShow(e){const{onOpen:t,onClose:i}=this.props;this.show!==e&&(this.setState({show:e}),e&&t&&t.call(void 0,{target:this}),!e&&i&&i.call(void 0,{target:this}))}mergeTime(e){return this.value&&e?N(this.value,e):e}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}};gi.displayName="TimePicker",gi.propTypes={className:i.string,cancelButton:i.bool,nowButton:i.bool,defaultShow:i.bool,defaultValue:i.instanceOf(Date),disabled:i.bool,format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),formatPlaceholder:i.oneOfType([i.oneOf(["wide","narrow","short","formatPattern"]),i.shape({year:i.string,month:i.string,day:i.string,hour:i.string,minute:i.string,second:i.string})]),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,min:i.instanceOf(Date),max:i.instanceOf(Date),name:i.string,popupSettings:i.shape({animate:i.bool,appendTo:i.any,popupClass:i.string}),show:i.bool,steps:i.shape({hour:i.number,minute:i.number,second:i.number}),smoothScroll:i.bool,tabIndex:i.number,title:i.string,value:i.instanceOf(Date),width:i.oneOfType([i.number,i.string]),validationMessage:i.string,required:i.bool,validate:i.bool,valid:i.bool,size:i.oneOf([null,"small","medium","large"]),rounded:i.oneOf([null,"small","medium","large","full"]),fillMode:i.oneOf([null,"solid","flat","outline"])},gi.defaultProps={defaultShow:!1,defaultValue:null,disabled:!1,format:"t",max:R,min:F,popupSettings:{},tabIndex:0,steps:{},required:!1,validityStyles:!0,dateInput:It,size:"medium",rounded:"medium",fillMode:"solid"};let vi=gi;const fi=s.createPropsContext(),wi=s.withIdHOC(s.withPropsContext(fi,vi));wi.displayName="KendoReactTimePicker",n.registerForLocalization(vi);const bi=class e extends u.Component{constructor(e){super(e),this._element=null,this.isActive=!1,this.focusActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus"),t=this._element.querySelector(".k-state-pending-focus");e&&e[0]&&e[0].classList.remove("k-focus"),t&&t.classList.add("k-focus"),this.isActive=!0},this.blurActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus");e&&e.classList.remove("k-focus"),this.isActive=!1},this.rotateSelectionRange=e=>{if(null===e.start||null===e.end)return e;const t=e.end<e.start;return{start:t?e.end:e.start,end:t?e.start:e.end}},this.handleDateChange=(e,t=!1)=>{const{onChange:i}=this.props;if(i){const s={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:a.cloneDate(e.value),target:this,isTodayClick:t};i.call(void 0,s)}}}get element(){return this._element}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==I.month)}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}componentDidUpdate(){this.isActive&&this.focusActiveDate()}render(){const e=this.props.allowReverse?this.rotateSelectionRange(this.props.selectionRange):this.props.selectionRange,t=s.classNames("k-calendar-view k-align-items-start k-justify-content-center",{"k-vstack":this.props.verticalView,"k-hstack":!this.props.verticalView,"k-calendar-monthview":this.props.activeView===I.month,"k-calendar-yearview":this.props.activeView===I.year,"k-calendar-decadeview":this.props.activeView===I.decade,"k-calendar-centuryview":this.props.activeView===I.century});return u.createElement("div",{ref:e=>{this._element=e},className:t},this.props.dates.map((t=>u.createElement("table",{className:"k-calendar-table k-content",key:t.getTime(),role:"grid"},u.createElement(Z,{bus:this.props.bus,service:this.props.service,key:t.getTime(),direction:"horizontal",activeView:this.props.activeView,cellUID:this.props.cellUID,viewDate:t,min:this.min,max:this.max,focusedDate:this.props.focusedDate,selectionRange:e,selectedDate:this.props.value,showWeekNumbers:this.weekNumber,onChange:this.handleDateChange,onCellEnter:this.props.onCellEnter,cell:this.props.cell,weekCell:this.props.weekCell})))))}};bi.defaultProps={showWeekNumbers:!1,views:2,take:2,allowReverse:!0,min:T,max:P};let Di=bi;const yi=(e=Ii.defaultProps.min,t=Ii.defaultProps.max,i)=>i instanceof Date&&!Array.isArray(i)&&B(a.getDate(i),e,t)?a.getDate(i):null,ki=(e=Ii.defaultProps.min,t=Ii.defaultProps.max,i)=>Array.isArray(i)?i.filter((i=>B(i,e,t))).map((e=>a.getDate(e))):null,Si=e=>"object"!=typeof e||e instanceof Date||null===e||Array.isArray(e)?M:e,xi=(e,t,i)=>e||t&&t[0]||i&&i.start,Ci=class e extends u.Component{constructor(t){super(t),this.dates=[],this.selectedDate=null,this.selectedMultiple=null,this.selectedRange=M,this._focusedDate=new Date,this.cellUID=this.props.id+"-cell-uid",this.activeRangeEnd="start",this._element=null,this.intl=null,this.localization=null,this.service=null,this.calendarViewList=null,this.isActive=!1,this.calculateFocusFromValue=!0,this.focus=()=>{this._element&&this._element.focus()},this.clampRange=e=>({start:e,end:null}),this.rangeWithFocused=(e,t)=>({start:e.start,end:null===e.end&&null!==e.start&&this.isActive?t:e.end}),this.generateRange=(e,t)=>{const{end:i,start:s}=t,a=null!==t.start&&e.getTime()<=t.start.getTime();return!this.props.allowReverse&&a?{start:e,end:this.selectedRange.start}:"end"!==this.activeRange?{start:e,end:i}:{start:s||this.selectedDate,end:e}},this.canNavigate=e=>{if(!this.service)return!1;const t=this.service.move(this.focusedDate,e);return this.min<=t&&t<=this.max||this.service.isInSameView(t,this.min)||this.service.isInSameView(t,this.max)},this.navigate=(e,t)=>{this.calculateFocusFromValue=!1;const i=this.move(e,t);this.setState({navigateDate:i,focusedDate:i})},this.move=(e,t)=>this.clampDate(this.service.move(t,e)),this.clampDate=e=>K(e,this.min,this.max),this.shouldAutoCorrect=(e,t)=>{const{end:i,start:s}=t;return"end"!==this.activeRange?null!==i&&e>i:null!==s&&e<s},this.handleCellEnter=e=>{"range"===this.props.mode&&(this.calculateFocusFromValue=!1,this.setState({focusedDate:e}))},this.handleMouseDown=e=>{e.preventDefault()},this.handleClick=e=>{this._element&&this._element.focus({preventScroll:!0})},this.handleFocus=e=>{if(this.isActive=!0,!this.calendarViewList)return;this.calendarViewList.focusActiveDate();const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleBlur=e=>{if(this.isActive=!1,!this.calendarViewList)return;this.calendarViewList.blurActiveDate();const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleTodayClick=e=>{this.todayIsInRange&&this.handleDateChange(e)},this.handlePrevButtonClick=()=>{const e=Ve.PrevView;if(this.state.activeView>0&&this.focusedDate.getFullYear()>this.dates[0].getFullYear())this.navigate(e,this.move(e,this.focusedDate));else{const t=this.isInMonth(this.focusedDate,this.dates[1])?this.move(e,this.focusedDate):this.focusedDate;this.navigate(e,t)}},this.handleNextButtonClick=()=>{this.navigate(Ve.NextView,this.focusedDate)},this.handleKeyDown=e=>{const{keyCode:t,ctrlKey:i,metaKey:n}=e;if(84===t){const e=L();this.calculateFocusFromValue=!1,this.setState({focusedDate:e,navigateDate:e})}if((i||n)&&(t===s.Keys.left&&this.handlePrevButtonClick(),t===s.Keys.right&&this.handleNextButtonClick()),t===s.Keys.enter){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.focusedDate,target:this};this.handleDateChange(t)}else{const t=K(this.navigation.move(this.focusedDate,this.navigation.action(e),this.state.activeView,this.service,e),this.min,this.max);if(a.isEqualDate(this.focusedDate,t))return;this.dates&&this.service&&!this.service.isInArray(t,this.dates)&&this.setState({navigateDate:t}),this.calculateFocusFromValue=!1,this.setState({focusedDate:t})}e.preventDefault()},this.handleViewChange=({view:e})=>{this.calculateFocusFromValue=!1,this.setState((t=>({activeView:e,navigateDate:t.focusedDate})))},this.handleDateChange=e=>{const t=a.cloneDate(e.value),i=this.bus.canMoveDown(this.state.activeView);if(this.props.disabled)return;if(i){if(!e.isTodayClick)return this.bus.moveDown(this.state.activeView,e.syntheticEvent),void this.setState({focusedDate:t,navigateDate:t});this.bus.moveToBottom(this.state.activeView)}let s;switch(this.calculateFocusFromValue=!0,this.props.mode){case"single":default:s=a.cloneDate(e.value);break;case"multiple":if(Array.isArray(this.selectedMultiple)){const t=this.selectedMultiple.slice();let i=-1;t.forEach(((t,s)=>{a.isEqualDate(t,e.value)&&(i=s)})),-1!==i?t.splice(i,1):t.push(a.cloneDate(e.value)),s=t.slice()}else s=this.selectedDate?[a.cloneDate(this.selectedDate),a.cloneDate(e.value)]:[a.cloneDate(e.value)];break;case"range":s=null!==this.selectedRange.start&&null!==this.selectedRange.end&&"start"===this.activeRange?this.clampRange(e.value):this.generateRange(e.value,this.selectedRange),this.activeRangeEnd="end"!==this.activeRange?"end":"start"}this.valueDuringOnChange=s,e.isTodayClick&&this.setState({navigateDate:t}),this.setState({value:s,focusedDate:t}),this.valueDuringOnChange=s;const{onChange:n}=this.props;if(n){const t={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:s,target:this};n.call(void 0,t)}this.valueDuringOnChange=void 0};const i=void 0!==t.value?t.value:t.defaultValue||e.defaultProps.defaultValue,n=yi(this.min,this.max,i),o=ki(this.min,this.max,i),r=Si(i),l=xi(n,o,r),h=E(I[t.defaultActiveView],this.bottomView,this.topView),d=K(t.focusedDate||l||L(),this.min,this.max);this.state={value:i,activeView:h,focusedDate:d,navigateDate:d},this.activeRangeEnd=((e,t)=>null===e.start&&null===t?"start":null===e.end?"end":"start")(r,n),this.bus=new We(this.handleViewChange),this.navigation=new $e(this.bus),this.calculateFocusFromValue=!1,this.lastView=h,this.lastViewsCount=this.props.views||Di.defaultProps.views}get wrapperID(){return this.props.id+"-wrapper-id"}get isRtl(){return"rtl"===this.props.dir}get element(){return this._element}get value(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value}get focusedDate(){return a.cloneDate(this._focusedDate)}get min(){return a.getDate(void 0!==this.props.min?this.props.min:e.defaultProps.min)}get max(){return a.getDate(void 0!==this.props.max?this.props.max:e.defaultProps.max)}get bottomView(){return I[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]}get topView(){return I[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]}get activeRange(){return void 0!==this.props.activeRangeEnd?this.props.activeRangeEnd:this.activeRangeEnd}get todayIsInRange(){return B(L(),a.getDate(this.min),a.getDate(this.max))}componentDidMount(){this.calculateFocusFromValue=!0}componentDidUpdate(){this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)();const e=yi(this.min,this.max,this.value);this.calculateFocusFromValue=!!(this.selectedDate&&e&&this.selectedDate.getTime()&&e.getTime()),this.lastView=this.state.activeView,this.lastViewsCount=this.props.views||Di.defaultProps.views}render(){this.props._ref&&this.props._ref(this),this.intl=n.provideIntlService(this),this.localization=n.provideLocalizationService(this),this.bus.configure(this.bottomView,this.topView);const e=E(this.state.activeView,this.bottomView,this.topView);this.service=this.bus.service(e,this.intl),this.selectedDate=yi(this.min,this.max,this.value),this.selectedMultiple=ki(this.min,this.max,this.value),this.selectedRange=Si(this.value);const t=xi(this.selectedDate,this.selectedMultiple,this.selectedRange);this._focusedDate=K(this.calculateFocusFromValue&&null!==t?t:this.state.focusedDate,this.min,this.max);const i=s.classNames("k-widget k-calendar k-calendar-range",{"k-disabled":this.props.disabled},this.props.className),l=this.rangeWithFocused(this.selectedRange,this.focusedDate),h=this.localization.toLanguageString(Q,ke[Q]),d=this.localization.toLanguageString(ee,ke[ee]),c=!this.canNavigate(Ve.PrevView),p=!this.canNavigate(Ve.NextView),m={"aria-disabled":c},g={"aria-disabled":p},v=this.lastView!==e,f=this.dates&&this.isInMonth(this.state.navigateDate,this.dates[0]),w=this.lastViewsCount!==this.props.views;(!f||v||w)&&(this.dates=this.service.datesList(this.state.navigateDate,this.props.views||Di.defaultProps.views));const b=a.cloneDate(this.dates&&this.dates[0]?this.dates[0]:L());return u.createElement("div",{ref:e=>{this._element=e},className:i,id:this.props.id||this.wrapperID,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,tabIndex:this.props.disabled?void 0:this.props.tabIndex,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onKeyDown:this.handleKeyDown,"aria-disabled":this.props.disabled,dir:this.props.dir},u.createElement(J,{key:`.kendo.calendar.header.${b.getTime()}`,activeView:e,currentDate:b,min:this.min,max:this.max,rangeLength:this.props.views,bus:this.bus,service:this.service,headerTitle:this.props.headerTitle,verticalView:this.props.mobileMode,commands:u.createElement(u.Fragment,null,u.createElement(o.Button,{type:"button",className:"k-calendar-nav-prev",icon:this.isRtl?"chevron-right":"chevron-left",svgIcon:this.isRtl?r.chevronRightIcon:r.chevronLeftIcon,fillMode:"flat",title:h,disabled:c,onClick:this.handlePrevButtonClick,...m}),u.createElement(xe,{min:this.min,max:this.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange}),u.createElement(o.Button,{type:"button",className:"k-calendar-nav-next",icon:this.isRtl?"chevron-left":"chevron-right",svgIcon:this.isRtl?r.chevronLeftIcon:r.chevronRightIcon,fillMode:"flat",title:d,disabled:p,onClick:this.handleNextButtonClick,...g}))}),u.createElement(Di,{ref:e=>{this.calendarViewList=e},dates:this.dates,activeView:e,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,service:this.service,selectionRange:l,value:this.selectedMultiple||this.selectedDate,cellUID:this.cellUID,views:this.props.views,onChange:this.handleDateChange,showWeekNumbers:this.props.weekNumber,onCellEnter:this.handleCellEnter,cell:this.props.cell,weekCell:this.props.weekCell,headerTitle:this.props.headerTitle,verticalView:this.props.mobileMode}))}isInMonth(e,t){return!!t&&a.firstDayOfMonth(t)<=e&&e<=a.lastDayOfMonth(t)}};Ci.displayName="MultiViewCalendar",Ci.propTypes={activeRangeEnd:i.oneOf(["start","end"]),allowReverse:i.bool,bottomView:i.oneOf(["month","year","decade","century"]),className:i.string,defaultActiveView:i.oneOf(["month","year","decade","century"]),defaultValue:i.oneOfType([O(i.instanceOf(Date)),i.arrayOf(i.instanceOf(Date)),i.shape({start:O(i.instanceOf(Date)),end:O(i.instanceOf(Date))})]),disabled:i.bool,focusedDate:i.instanceOf(Date),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,max:i.instanceOf(Date),min:i.instanceOf(Date),mode:i.oneOf(["single","multiple","range"]),onBlur:i.func,onChange:i.func,onFocus:i.func,tabIndex:i.number,topView:i.oneOf(["month","year","decade","century"]),value:i.oneOfType([O(i.instanceOf(Date)),i.arrayOf(i.instanceOf(Date)),i.shape({start:O(i.instanceOf(Date).isRequired),end:O(i.instanceOf(Date).isRequired)})]),views:(e,t,i)=>{const s=e[t];return void 0!==s&&s<1?new Error(`Invalid prop '${t}' supplied to'${i}'. The '${t}' property cannot be less than 1'`):null},weekNumber:i.bool,dir:i.string},Ci.defaultProps={disabled:!1,min:T,max:P,navigation:!0,defaultActiveView:"month",defaultValue:null,topView:"century",tabIndex:0,bottomView:"month",views:2,allowReverse:!1};let Ii=Ci;const Mi=s.createPropsContext(),Oi=s.withIdHOC(s.withPropsContext(Mi,Ii));Oi.displayName="KendoReactMultiViewCalendar",n.registerForIntl(Ii),n.registerForLocalization(Ii);const Ei=class e extends u.Component{constructor(t){super(t),this._element=null,this._calendar=null,this._startDateInput=u.createRef(),this._endDateInput=u.createRef(),this.shouldFocusDateInput=!1,this.shouldFocusCalendar=!1,this.focus=()=>{this.startDateInput&&this.startDateInput.focus()},this.setCalendarRef=e=>{this._calendar=e},this.focusCalendarElement=()=>{this._calendar&&this._calendar.element&&this._calendar.element.focus({preventScroll:!0})},this.calculateValue=(e,t)=>(void 0!==e.value?e.value:t.value)||M,this.calculateShow=(e,t)=>void 0!==e.show?e.show:t.show,this.renderCalendar=()=>{const e=this.value||M,t={min:this.min,max:this.max,allowReverse:this.props.allowReverse,mode:"range",focusedDate:this.props.focusedDate,disabled:this.props.disabled,className:this.mobileMode?"k-calendar-lg":"",mobileMode:this.mobileMode,...this.props.calendarSettings,value:e,dir:this.props.dir,onChange:this.handleCalendarChange};return this.props.calendar?u.createElement(this.props.calendar,{...t}):u.createElement(Oi,{...t,ref:this.setCalendarRef})},this.renderPopup=()=>{const e={popupClass:"k-daterangepicker-popup",animate:null!==this._element,anchor:this._element,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"},...this.props.popupSettings,show:this.show};return this.props.popup?u.createElement(this.props.popup,{...e},this.renderCalendar()):u.createElement(h.Popup,{...e},this.renderCalendar())},this.renderAdaptivePopup=()=>{const{windowWidth:e=0}=this.state,t={expand:this.show,onClose:e=>this.handleCancel(e),adaptiveTitle:this.props.adaptiveTitle,windowWidth:e,footer:{cancelText:this.localizationService.toLanguageString(De,ke[De]),onCancel:this.handleCancel,applyText:this.localizationService.toLanguageString(ye,ke[ye]),onApply:this.handleBlur}};return u.createElement(Vt,{...t},u.createElement(d.ActionSheetContent,{className:"!k-overflow-hidden"},u.createElement("div",{className:"k-scrollable-wrap"},this.renderCalendar())))},this.handleReverseClick=e=>{const t={start:this.value.end,end:this.value.start},i={syntheticEvent:e,nativeEvent:e.nativeEvent};this.handleChange(t,i)},this.handleReverseMouseDown=e=>{e.preventDefault()},this.handleFocus=e=>{clearTimeout(this.nextTickId),this.shouldFocusDateInput||this.mobileMode&&this.setState({currentValue:this.value});const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleClick=()=>{this.shouldFocusDateInput||this.setShow(!0)},this.handleBlur=e=>{this.nextTick((()=>{this.setShow(!1)}));const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleCancel=e=>{this.nextTick((()=>{this.setShow(!1),this.setState({currentValue:M})}));const{onCancel:t}=this.props;t&&t.call(void 0,e)},this.handleEndChange=e=>{const t={start:this.value.start,end:a.cloneDate(e.value||void 0)};this.handleChange(t,e)},this.handleStartChange=e=>{const t={start:a.cloneDate(e.value||void 0),end:this.value.end};this.handleChange(t,e)},this.extractRangeFromValue=e=>{if(!(Array.isArray(e.value)||e.value instanceof Date))return e.value||M;const t=Array.isArray(e.value)?e.value[0]:e.value;return{start:null!==this.value.end?t:this.value.start,end:null!==this.value.start?t:this.value.end}},this.handleCalendarChange=e=>{const t=this.extractRangeFromValue(e);this.handleChange(t,e)},this.handleKeyDown=e=>{const{keyCode:t,altKey:i}=e;t===s.Keys.esc?(e.preventDefault(),this.shouldFocusDateInput=!0,this.setShow(!1)):i&&t===s.Keys.down?(e.preventDefault(),this.shouldFocusCalendar=!0,this.setShow(!0),this.focusCalendarElement()):i&&t===s.Keys.up&&(e.preventDefault(),this.shouldFocusDateInput=!0,this.setShow(!1))},this.handleChange=(e,t)=>{this.setState({value:e}),this.valueDuringOnChange=e;const{onChange:i}=this.props;if(i){const e={syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:this.value,show:this.show,target:this};i.call(void 0,e)}this.valueDuringOnChange=void 0},s.validatePackage(p),this.state={show:this.props.show||this.props.defaultShow||e.defaultProps.defaultShow,value:this.props.value||this.props.defaultValue||e.defaultProps.defaultValue,currentValue:M},this.nextTick=this.nextTick.bind(this),this.setShow=this.setShow.bind(this),this.focusCalendarElement=this.focusCalendarElement.bind(this),this.focusDateInputElement=this.focusDateInputElement.bind(this)}get _popupId(){return this.props.id+"-popup-id"}get _startInputId(){return this.props.id+"-start-input-id"}get _endInputId(){return this.props.id+"-end-input-id"}get element(){return this._element}get startDateInput(){return this._startDateInput.current}get endDateInput(){return this._endDateInput.current}get calendar(){return this._calendar}get value(){return(void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value)||M}get show(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get document(){if(s.canUseDOM)return this.element&&this.element.ownerDocument||document}get localizationService(){return n.provideLocalizationService(this)}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Tt&&this.props.adaptive)}componentDidMount(){var e;this.observerResize=s.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.show&&this.forceUpdate(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentDidUpdate(){this.shouldFocusCalendar&&this.focusCalendarElement(),this.shouldFocusDateInput&&this.focusDateInputElement(),this.shouldFocusCalendar=!1,this.shouldFocusDateInput=!1}componentWillUnmount(){var e;clearTimeout(this.nextTickId),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const e=this.value||M,t=this.mobileMode&&this.show?this.state.currentValue:e,i=(this.props.startDateInputSettings||{}).id||this._startInputId,a=(this.props.endDateInputSettings||{}).id||this._endInputId,l=s.classNames("k-daterangepicker",{"k-disabled":this.props.disabled},this.props.className),h=this.localizationService.toLanguageString(oe,ke[oe]),d=this.localizationService.toLanguageString(re,ke[re]),c=this.localizationService.toLanguageString(le,ke[le]),p={disableSelection:this.mobileMode&&!0,label:h,format:this.props.format,min:this.min,max:this.max,id:this._startInputId,disabled:this.props.disabled,valid:this.props.valid,tabIndex:this.props.tabIndex,ariaExpanded:this.show,...this.props.startDateInputSettings,value:t.start,onChange:this.handleStartChange},m={disableSelection:this.mobileMode&&!0,label:d,format:this.props.format,min:this.min,max:this.max,id:this._endInputId,disabled:this.props.disabled,valid:this.props.valid,tabIndex:this.props.tabIndex,ariaExpanded:this.show,...this.props.endDateInputSettings,value:t.end,onChange:this.handleEndChange},g=u.createElement(o.Button,{type:"button",className:"k-select",fillMode:"flat",title:n.provideLocalizationService(this).toLanguageString(ne,ke[ne]),onMouseDown:this.handleReverseMouseDown,onClick:this.handleReverseClick,"aria-controls":i+" "+a,"aria-label":n.provideLocalizationService(this).toLanguageString(ne,ke[ne])},u.createElement(s.IconWrap,{style:{transform:"rotate(90deg)"},name:"arrows-swap",icon:r.arrowsSwapIcon}));return u.createElement(u.Fragment,null,u.createElement("span",{ref:e=>{this._element=e},className:l,style:this.props.style,id:this.props.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,tabIndex:this.props.tabIndex,onFocus:this.handleFocus,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onBlur:this.mobileMode?void 0:this.handleBlur,dir:this.props.dir},this.props.startDateInput?u.createElement(this.props.startDateInput,{...p}):u.createElement(It,{...p,ref:this._startDateInput,ariaRole:"combobox",ariaControls:this._popupId,readonly:this.mobileMode}),(this.props.allowReverse||this.props.calendarSettings&&this.props.calendarSettings.allowReverse)&&this.props.swapButton?g:c,this.props.endDateInput?u.createElement(this.props.endDateInput,{...m}):u.createElement(It,{...m,ref:this._endDateInput,ariaRole:"combobox",ariaControls:this._popupId,readonly:this.mobileMode}),!this.mobileMode&&this.renderPopup()),this.mobileMode&&this.renderAdaptivePopup())}focusDateInputElement(){if(!(document&&this.startDateInput&&this.startDateInput.element&&this.endDateInput&&this.endDateInput.element))return;const e=s.getActiveElement(document);null!==this.value.start&&null===this.value.end||e===this.endDateInput.element?e!==this.startDateInput.element&&this.endDateInput.element.focus({preventScroll:!0}):this.startDateInput.element.focus({preventScroll:!0})}nextTick(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((()=>e()))}setShow(e){const{onOpen:t,onClose:i}=this.props;this.show!==e&&(this.setState({show:e}),e&&t&&t.call(void 0,{target:this}),!e&&i&&i.call(void 0,{target:this}))}calculateMedia(e){for(let t of e)this.setState({windowWidth:t.target.clientWidth})}};Ei.displayName="DateRangePicker",Ei.propTypes={allowReverse:i.bool,calendarSettings:i.any,className:i.string,defaultShow:i.bool,defaultValue:i.shape({start:O(i.instanceOf(Date).isRequired),end:O(i.instanceOf(Date).isRequired)}),disabled:i.bool,endDateInputSettings:i.shape(xt.propTypes),focusedDate:i.instanceOf(Date),format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,max:i.instanceOf(Date),min:i.instanceOf(Date),onBlur:i.func,onChange:i.func,onFocus:i.func,popupSettings:i.any,show:i.bool,startDateInputSettings:i.any,style:i.any,swapButton:i.any,tabIndex:i.number,dir:i.string,value:i.shape({start:O(i.instanceOf(Date).isRequired),end:O(i.instanceOf(Date).isRequired)})},Ei.defaultProps={allowReverse:!1,defaultShow:!1,defaultValue:M,disabled:!1,format:"d",max:P,min:T,swapButton:!1};let Vi=Ei;const Ti=s.createPropsContext(),Pi=s.withIdHOC(s.withPropsContext(Ti,Vi));Pi.displayName="KendoReactDateRangePicker",n.registerForLocalization(Vi);const Fi=class extends u.Component{constructor(e){super(e),this._calendar=null,this._timePart=null,this._cancelButton=null,this._acceptButton=null,this._dateButtonRef=null,this._calendarWrap=null,this.shouldFocusPart=!1,this.focus=e=>{Promise.resolve().then((()=>{"time"===this.state.tab&&this._timePart&&this._timePart.focus(e);const t=this.calendarElement();"date"===this.state.tab&&t&&t.focus(e)}))},this.calendarElement=()=>this._calendar&&this._calendar.element||this._calendarWrap&&this._calendarWrap.querySelector(".k-widget.k-calendar"),this.move=e=>{if("right"===e&&"time"===this.state.tab||"left"===e&&"date"===this.state.tab)return;const t="left"===e?"date":"time";this.shouldFocusPart=!0,this.setState({tab:t})},this.dateTimeFooter=()=>{const{cancelButton:e}=this.props,t=this.localizationService.toLanguageString(we,ke[we]),i=this.localizationService.toLanguageString(be,ke[be]);return u.createElement("div",{className:"k-datetime-footer k-actions k-actions-stretched"},e&&u.createElement(o.Button,{type:"button",ref:e=>{this._cancelButton=e},className:"k-time-cancel",onClick:this.handleReject,onKeyDown:this.handleCancelKeyDown,title:t,"aria-label":t},t),u.createElement(o.Button,{type:"button",themeColor:"primary",ref:e=>{this._acceptButton=e},className:"k-time-accept",disabled:!this.hasDateValue,onClick:this.handleAccept,onKeyDown:this.handleSetKeyDown,title:i,"aria-label":i},i))},this.handleReject=e=>{this.setState({dateValue:this.props.value,timeValue:this.props.value||V});const t=this.mergeDate(this.props.value,this.props.value||V);if(this.props.onReject){const i={nativeEvent:e.nativeEvent,syntheticEvent:e,target:this,value:t};this.props.onReject.call(void 0,i)}},this.handleAccept=(e,t)=>{if(!this.state.dateValue||!this.state.timeValue||!this.hasDateValue)return;const i=this.mergeDate(this.state.dateValue,t||this.state.timeValue);this.props.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:i,target:this})},this.handleNowClick=e=>{this.setState({timeValue:ft()}),this.handleAccept(e,ft())},this.handleCalendarValueChange=e=>{e.syntheticEvent.stopPropagation(),this.setState({dateValue:e.value,tab:"time"}),this.shouldFocusPart=!0},this.handleTimeListContainerChange=e=>{this.setState({timeValue:e})},this.handleDateClick=e=>{e.stopPropagation(),this.move("left")},this.handleTimeClick=e=>{e.stopPropagation(),this.move("right")},this.handleKeyDown=e=>{const{keyCode:t,altKey:i}=e;if(!this.props.disabled)switch(t){case s.Keys.enter:return void(!this.hasActiveButton()&&this.hasDateValue&&this.handleAccept(e));case s.Keys.left:if(!i)return;return void this.move("left");case s.Keys.right:if(!i)return;return void this.move("right");default:return}},this.handleCancelKeyDown=e=>{const{keyCode:t}=e;t===s.Keys.tab&&this._dateButtonRef&&this._dateButtonRef.element&&!this.hasDateValue&&(e.preventDefault(),this._dateButtonRef.element.focus())},this.handleSetKeyDown=e=>{const{keyCode:t}=e;t===s.Keys.tab&&this._dateButtonRef&&this._dateButtonRef.element&&(e.preventDefault(),this._dateButtonRef.element.focus())},this.handleDateKeyDown=e=>{var t,i,a,n;const{keyCode:o,shiftKey:r}=e;r&&o===s.Keys.tab&&(e.stopPropagation(),this.hasDateValue?null==(n=null==(a=this._acceptButton)?void 0:a.element)||n.focus():null==(i=null==(t=this._cancelButton)?void 0:t.element)||i.focus()),o===s.Keys.enter&&(e.stopPropagation(),this.move("left"))},this.handleTimeKeyDown=e=>{const{keyCode:t}=e;t===s.Keys.enter&&(e.stopPropagation(),this.move("right"))},this.handleTimePartMount=e=>{this.setState({timeValue:e})},this.state={tab:"date",dateValue:this.props.value,timeValue:this.props.value||V}}get calendar(){return this._calendar}get timePart(){return this._timePart}get hasDateValue(){return null!==this.state.dateValue}get localizationService(){return n.provideLocalizationService(this)}componentDidUpdate(e,t){var i,s;this.shouldFocusPart&&this.focus({preventScroll:!0}),((null==(i=e.value)?void 0:i.getTime())!==(null==(s=this.props.value)?void 0:s.getTime())||this.state.tab!==t.tab&&this.props.value)&&this.setState({dateValue:e.value&&this.props.value&&a.isEqualDate(e.value,this.props.value)?this.state.dateValue:this.props.value,timeValue:this.props.value||V}),this.shouldFocusPart=!1}render(){const{disabled:e,min:t,max:i,weekNumber:a,focusedDate:n,format:r,mobileMode:l,footerActions:h}=this.props,d=s.classNames({"k-date-tab":"date"===this.state.tab,"k-time-tab":"time"===this.state.tab,"k-disabled":e},"k-datetime-wrap"),c=this.localizationService.toLanguageString(ve,ke[ve]),p=this.localizationService.toLanguageString(fe,ke[fe]),m={min:t,max:i,weekNumber:a,focusedDate:n,disabled:e||"date"!==this.state.tab,value:this.state.dateValue,onChange:this.handleCalendarValueChange,navigation:!1,tabIndex:e||"date"!==this.state.tab?-1:void 0,mobileMode:l};return u.createElement("div",{onKeyDown:this.handleKeyDown,className:d,tabIndex:-1},u.createElement("div",{className:"k-datetime-buttongroup"},u.createElement(o.ButtonGroup,{width:"100%"},u.createElement(o.Button,{ref:e=>this._dateButtonRef=e,type:"button",selected:"date"===this.state.tab,togglable:!0,onClick:this.handleDateClick,onKeyDown:this.handleDateKeyDown},c),u.createElement(o.Button,{type:"button",selected:"time"===this.state.tab,togglable:!0,onClick:this.handleTimeClick,onKeyDown:this.handleTimeKeyDown},p))),u.createElement("div",{className:"k-datetime-selector"},u.createElement("div",{className:"k-datetime-calendar-wrap",ref:e=>this._calendarWrap=e},this.props.calendar?u.createElement(this.props.calendar,{key:this.state.tab,...m}):u.createElement(et,{key:this.state.tab,ref:e=>{this._calendar=e},...m})),u.createElement("div",{className:"k-datetime-time-wrap"},u.createElement("div",{className:l?"k-reset k-timeselector-lg k-timeselector":""},u.createElement(ui,{key:1,onNowClick:this.handleNowClick,disabled:e||"time"!==this.state.tab,ref:e=>{this._timePart=e},min:this.minTime||F,max:this.maxTime||R,steps:this.props.steps,value:this.state.timeValue,format:r,onChange:this.handleTimeListContainerChange,onMount:this.handleTimePartMount,mobileMode:l})))),h&&this.dateTimeFooter())}get minTime(){return void 0!==this.props.minTime?this.props.minTime:this.normalizeRange(this.props.min,this.state.dateValue)}get maxTime(){return void 0!==this.props.maxTime?this.props.maxTime:this.normalizeRange(this.props.max,this.state.dateValue)}normalizeRange(e,t){return a.isEqualDate(e,t||L())?e:null}hasActiveButton(){if(!this._acceptButton)return!1;const e=s.getActiveElement(document);return this._acceptButton&&e===this._acceptButton.element||this._cancelButton&&e===this._cancelButton.element}mergeTime(e,t){return e&&t?N(t,e):t}mergeDate(e,t){return e?N(e||L(),t):t}};Fi.defaultProps={footerActions:!0};let Ri=Fi;n.registerForLocalization(Ri);const Ni=class e extends u.Component{constructor(t){super(t),this._element=null,this._dateInput=u.createRef(),this._dateTimeSelector=null,this.shouldFocusDateInput=!1,this.prevShow=!1,this.focus=()=>{const e=this.dateInputElement();e&&e.focus()},this.renderPicker=()=>{const{disabled:e,minTime:t,maxTime:i,format:s,calendar:a,cancelButton:n,weekNumber:o,focusedDate:r}=this.props;return u.createElement(Ri,{ref:e=>{this._dateTimeSelector=e},cancelButton:n,steps:this.props.steps,value:this.value,onChange:this.handleValueChange,onReject:this.handleReject,disabled:e,weekNumber:o,min:this.min,max:this.max,minTime:t,maxTime:i,focusedDate:r,format:s,calendar:a,mobileMode:this.mobileMode,footerActions:!this.mobileMode})},this.renderAdaptivePopup=()=>{const{windowWidth:e=0}=this.state,t=n.provideLocalizationService(this).toLanguageString(we,ke[we]),i=n.provideLocalizationService(this).toLanguageString(be,ke[be]),s={expand:this.show,onClose:this.handleBlur,adaptiveTitle:this.props.adaptiveTitle,windowWidth:e,footer:{cancelText:t,onCancel:e=>{var t;return null==(t=this._dateTimeSelector)?void 0:t.handleReject(e)},applyText:i,onApply:e=>{var t;return null==(t=this._dateTimeSelector)?void 0:t.handleAccept(e)}}};return u.createElement(Vt,{...s},u.createElement(d.ActionSheetContent,{className:"!k-overflow-hidden"},this.renderPicker()))},this.handleReject=()=>{this.shouldFocusDateInput=!0,this.setShow(!1)},this.handleValueChange=e=>{this.setState({value:a.cloneDate(e.value||void 0)}),this.valueDuringOnChange=e.value,this.showDuringOnChange=!1,this.mobileMode||(this.shouldFocusDateInput=!0);const{onChange:t}=this.props;t&&t.call(void 0,{syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:this.value,show:this.show,target:this}),this.valueDuringOnChange=void 0,this.showDuringOnChange=void 0,this.setShow(!1)},this.handleFocus=()=>{this.setState({focused:!0})},this.handleBlur=()=>{this.setState({focused:!1}),this.setShow(!1)},this.handleDateIconClick=()=>{this.props.disabled||(this.shouldFocusDateInput=!0,this.setShow(!this.show))},this.handleIconMouseDown=e=>{e.preventDefault()},this.handleKeyDown=e=>{const{altKey:t,keyCode:i}=e;if(i===s.Keys.esc)return this.shouldFocusDateInput=!0,void this.setShow(!1);t&&(i===s.Keys.up||i===s.Keys.down)&&(e.preventDefault(),e.stopPropagation(),this.shouldFocusDateInput=i===s.Keys.up,this.setShow(i===s.Keys.down))},this.dateInputElement=()=>this.dateInput&&this.dateInput.element||this.element&&this.element.querySelector(".k-dateinput > input.k-input-inner"),s.validatePackage(p),this.state={value:this.props.defaultValue||e.defaultProps.defaultValue,show:this.props.defaultShow||e.defaultProps.defaultShow,focused:!1}}get _popupId(){return this.props.id+"-popup-id"}get document(){if(s.canUseDOM)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get dateInput(){return this._dateInput.current}get value(){const e=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==e?a.cloneDate(e):null}get show(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show}get name(){return this.props.name}get mobileMode(){return!!(this.state.windowWidth&&this.state.windowWidth<=Tt&&this.props.adaptive)}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get validity(){const e=_(this.value,this.min,this.max)&&Dt(this.value,this.props.minTime||F,this.props.maxTime||R),t=void 0!==this.props.validationMessage,i=(!this.required||null!==this.value)&&e,s=void 0!==this.props.valid?this.props.valid:i;return{customError:t,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:s,valueMissing:null===this.value}}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get dateInputComp(){return this.props.dateInput||e.defaultProps.dateInput}componentDidMount(){var e;this.observerResize=s.canUseDOM&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.show&&this.forceUpdate(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentDidUpdate(){const e=this.dateInputElement();this._dateTimeSelector&&this.show&&!this.prevShow&&this._dateTimeSelector.focus({preventScroll:!0}),e&&!this.show&&this.shouldFocusDateInput&&e.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1}componentWillUnmount(){var e;clearTimeout(this.nextTickId),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}render(){const{size:t=e.defaultProps.size,rounded:i=e.defaultProps.rounded,fillMode:a=e.defaultProps.fillMode,disabled:l,tabIndex:d,title:c,id:p,format:m,formatPlaceholder:g,min:v,max:f,className:w,width:b,name:D,validationMessage:y,required:k,validityStyles:S,minTime:x,maxTime:C,ariaLabelledBy:I,ariaDescribedBy:M,popup:O=h.Popup}=this.props,E=!this.validityStyles||this.validity.valid,V={id:p,ariaLabelledBy:I,ariaDescribedBy:M,format:m,formatPlaceholder:g,disabled:l,title:c,validityStyles:S,validationMessage:y,required:k,min:v,max:f,minTime:x,maxTime:C,name:D,tabIndex:this.show?-1:d,valid:this.validity.valid,value:this.value,onChange:this.handleValueChange,steps:this.props.steps,label:void 0,placeholder:this.state.focused?null:this.props.placeholder,ariaExpanded:this.show,size:null,fillMode:null,rounded:null},T=u.createElement(s.AsyncFocusBlur,{onFocus:this.handleFocus,onBlur:this.handleBlur,onSyncFocus:this.props.onFocus,onSyncBlur:this.props.onBlur},(({onFocus:e,onBlur:l})=>u.createElement(u.Fragment,null,u.createElement("div",{ref:e=>{this._element=e},className:s.classNames("k-input","k-datetimepicker",{[`k-input-${s.kendoThemeMaps.sizeMap[t]||t}`]:t,[`k-rounded-${s.kendoThemeMaps.roundedMap[i]||i}`]:i,[`k-input-${a}`]:a,"k-invalid":!E,"k-required":this.required,"k-disabled":this.props.disabled},w),onKeyDown:this.handleKeyDown,style:{width:b},onFocus:this.mobileMode?void 0:e,onBlur:l,onClick:this.mobileMode?this.handleDateIconClick:void 0},u.createElement(this.dateInputComp,{_ref:this._dateInput,ariaRole:"combobox",ariaControls:this._popupId,readonly:this.mobileMode,...V}),u.createElement(o.Button,{tabIndex:-1,type:"button",icon:"calendar",svgIcon:r.calendarIcon,onMouseDown:this.handleIconMouseDown,onClick:this.mobileMode?void 0:this.handleDateIconClick,title:n.provideLocalizationService(this).toLanguageString(he,ke[he]),className:"k-input-button",rounded:null,"aria-label":n.provideLocalizationService(this).toLanguageString(he,ke[he])}),u.createElement(O,{show:this.show,animate:null!==this.element,anchor:this.element,popupClass:"k-datetime-container k-reset",id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},!this.mobileMode&&this.renderPicker())),this.mobileMode&&this.renderAdaptivePopup())));return this.props.label?u.createElement(Et,{dateInput:this._dateInput,label:this.props.label,editorId:p,editorValid:E,editorDisabled:this.props.disabled,children:T,style:{width:this.props.width}}):T}setShow(e){const{onOpen:t,onClose:i}=this.props;this.show!==e&&(this.setState({show:e}),e&&t&&t.call(void 0,{target:this}),!e&&i&&i.call(void 0,{target:this}))}nextTick(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((()=>e()))}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}};Ni.displayName="DateTimePicker",Ni.propTypes={className:i.string,defaultShow:i.bool,defaultValue:i.instanceOf(Date),disabled:i.bool,focusedDate:i.instanceOf(Date),format:i.oneOfType([i.string,i.shape({skeleton:i.string,pattern:i.string,date:i.oneOf(["short","medium","long","full"]),time:i.oneOf(["short","medium","long","full"]),datetime:i.oneOf(["short","medium","long","full"]),era:i.oneOf(["narrow","short","long"]),year:i.oneOf(["numeric","2-digit"]),month:i.oneOf(["numeric","2-digit","narrow","short","long"]),day:i.oneOf(["numeric","2-digit"]),weekday:i.oneOf(["narrow","short","long"]),hour:i.oneOf(["numeric","2-digit"]),hour12:i.bool,minute:i.oneOf(["numeric","2-digit"]),second:i.oneOf(["numeric","2-digit"]),timeZoneName:i.oneOf(["short","long"])})]),formatPlaceholder:i.oneOfType([i.oneOf(["wide","narrow","short","formatPattern"]),i.shape({year:i.string,month:i.string,day:i.string,hour:i.string,minute:i.string,second:i.string})]),id:i.string,ariaLabelledBy:i.string,ariaDescribedBy:i.string,min:i.instanceOf(Date),max:i.instanceOf(Date),name:i.string,popupSettings:i.shape({animate:i.bool,appendTo:i.any,popupClass:i.string}),show:i.bool,tabIndex:i.number,title:i.string,value:i.instanceOf(Date),weekNumber:i.bool,width:i.oneOfType([i.number,i.string]),validationMessage:i.string,required:i.bool,validate:i.bool,valid:i.bool,cancelButton:i.bool,size:i.oneOf([null,"small","medium","large"]),rounded:i.oneOf([null,"small","medium","large","full"]),fillMode:i.oneOf([null,"solid","flat","outline"])},Ni.defaultProps={defaultShow:!1,defaultValue:null,disabled:!1,format:"g",max:P,min:T,popupSettings:{},tabIndex:0,weekNumber:!1,required:!1,validityStyles:!0,cancelButton:!0,dateInput:It,size:"medium",rounded:"medium",fillMode:"solid"};let Li=Ni;const Bi=s.createPropsContext(),_i=s.withIdHOC(s.withPropsContext(Bi,Li));_i.displayName="KendoReactDateTimePicker",n.registerForLocalization(Li),e.Action=Ve,e.BusViewService=We,e.Calendar=et,e.CalendarCell=x,e.CalendarHeaderTitle=G,e.CalendarNavigationItem=Me,e.CalendarPropsContext=Qe,e.CalendarViewEnum=I,e.CalendarWeekCell=C,e.CalendarWithoutContext=Je,e.CenturyViewService=Fe,e.DOMService=Ue,e.DateInput=It,e.DateInputPropsContext=Ct,e.DateInputWithoutContext=xt,e.DatePicker=Nt,e.DatePickerPropsContext=Rt,e.DatePickerWithoutContext=Ft,e.DateRangePicker=Pi,e.DateRangePickerPropsContext=Ti,e.DateRangePickerWithoutContext=Vi,e.DateTimePicker=_i,e.DateTimePickerPropsContext=Bi,e.DateTimePickerWithoutContext=Li,e.DayPeriodService=Ht,e.DecadeViewService=Le,e.EMPTY_SELECTIONRANGE=M,e.Header=J,e.HorizontalViewList=Di,e.HoursService=$t,e.MAX_DATE=P,e.MAX_TIME=R,e.MIN_DATE=T,e.MIN_TIME=F,e.MinutesService=Qt,e.MonthViewService=Ae,e.MultiViewCalendar=Oi,e.MultiViewCalendarPropsContext=Mi,e.MultiViewCalendarWithoutContext=Ii,e.NavigationService=$e,e.PickerWrap=Ot,e.ScrollSyncService=je,e.SecondsService=ni,e.TimeList=hi,e.TimePart=ui,e.TimePicker=wi,e.TimePickerPropsContext=fi,e.TimePickerWithoutContext=vi,e.TimeSelector=mi,e.TodayCommand=xe,e.ToggleButton=Mt,e.ViewList=Ie,e.Virtualization=S,e.WeekNamesService=Y,e.YearViewService=qe,e.dateInputsMessages=ke,e.decreaseValue=ie,e.end=re,e.getNow=ft,e.getToday=L,e.increaseValue=te,e.separator=le,e.start=oe,e.swapStartEnd=ne,e.today=se,e.toggleCalendar=ae,e.toggleDateTimeSelector=he}));
