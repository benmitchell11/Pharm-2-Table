/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const F=require("react"),a=require("prop-types"),H=require("@progress/kendo-react-animation"),f=require("@progress/kendo-react-common"),c=require("../common/utils.js"),K=require("./hooks/usePrevious.js"),C=require("../common/constants.js"),G=require("../package-metadata.js");function J(t){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(u,r,i.get?i:{enumerable:!0,get:()=>t[r]})}}return u.default=t,Object.freeze(u)}const e=J(F),P=e.forwardRef((t,u)=>{f.validatePackage(G.packageMetadata);const{animation:r,disabled:i,reverse:I=v.reverse,orientation:x,labelVisible:T,labelPlacement:k,max:l=v.max,min:o=v.min,tabIndex:q,className:A,style:j,emptyStyle:M,emptyClassName:y,progressStyle:_,progressClassName:N}=t,m=e.useRef(null),d=e.useRef(null),b=e.useRef(null),w=e.useCallback(()=>{m.current&&m.current.focus()},[]);e.useImperativeHandle(u,()=>({element:m.current,progressStatusElement:d.current,progressStatusWrapElement:b.current,focus:w}));const s=t.value||v.value,p=K.usePrevious(s),S=t.value===null,D=f.useRtl(m,t.dir),n=x==="vertical",L=c.truncateNumber(s),V={value:s},E=T?t.label?e.createElement("span",{className:"k-progress-status"},e.createElement(t.label,{...V})):e.createElement("span",{className:"k-progress-status"},L):void 0,h={className:f.classNames("k-progressbar",{"k-progressbar-horizontal":!n,"k-progressbar-vertical":n,"k-progressbar-reverse":I,"k-progressbar-indeterminate":S,"k-disabled":i},A),ref:m,dir:D,tabIndex:f.getTabIndex(q,i),role:"progressbar","aria-label":t.ariaLabel,"aria-valuemin":o,"aria-valuemax":l,"aria-valuenow":S?void 0:s,"aria-disabled":i,style:j},R=f.classNames("k-progress-status-wrap",{"k-progress-start":k==="start","k-progress-center":k==="center","k-progress-end":k==="end"||k===void 0}),O=typeof r!="boolean"&&r!==void 0?r.duration:r?C.DEFAULT_ANIMATION_DURATION:C.NO_ANIMATION,U=e.useCallback(()=>{const g=c.calculatePercentage(o,l,p);c.updateProgress(d,b,g,n)},[n,l,o,p]),B=e.useCallback(g=>{const W=c.calculatePercentage(o,l,p+(s-p)*g);c.updateProgress(d,b,W,n)},[o,l,p,s,n]),z=e.useCallback(()=>{const g=c.calculatePercentage(o,l,s);c.updateProgress(d,b,g,n)},[n,l,o,s]);return H.useAnimation({duration:O,onStart:U,onUpdate:B,onEnd:z},[s,O]),e.createElement("div",{...h},e.createElement("span",{className:R+(y?" "+y:""),style:M},E),e.createElement("div",{className:"k-progressbar-value k-selected",style:_,ref:d},e.createElement("span",{className:R+(N?" "+N:""),ref:b},E)))});P.propTypes={animation:a.any,ariaLabel:a.string,disabled:a.bool,reverse:a.bool,label:a.any,labelVisible:a.bool,labelPlacement:a.oneOf(["start","center","end"]),max:a.number,min:a.number,value:a.number,tabIndex:a.number,emptyStyle:a.object,emptyClassName:a.string,progressStyle:a.object,progressClassName:a.string};const v={animation:!1,min:0,max:100,value:0,disabled:!1,reverse:!1,labelVisible:!0};P.defaultProps=v;P.displayName="KendoProgressBar";exports.ProgressBar=P;
