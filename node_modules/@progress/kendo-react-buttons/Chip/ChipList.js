/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Q=require("react"),t=require("prop-types"),c=require("@progress/kendo-react-common"),U=require("./selection-reducer.js"),W=require("./focus-reducer.js"),X=require("./data-reducer.js"),x=require("./Chip.js"),S=require("./chip-list-contexts.js"),Y=require("../package-metadata.js");function Z(e){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:()=>e[n]})}}return i.default=e,Object.freeze(i)}const a=Z(Q),V=(e,i,n)=>{i.selection==="multiple"?Array.isArray(e)||(e=e?[e]:null):i.selection==="single"&&Array.isArray(e)&&(e=e?e.join(""):null);const[l,r]=a.useState(e);return[l,o=>{const u=U.selectionReducer(i.state||l,{...o,...i});n&&n(u,o.event),i.selection!=="none"&&r(u)}]},ee=e=>{const[i,n]=a.useState(null);return[i,r=>{const h=W.focusReducer(r.payload,{...r,...e});n(h)}]},te=(e,i,n)=>{const[l,r]=a.useState(e);return[l,o=>{const u=X.dataReducer(i.state||l,{...o,...i});n&&n(u,o.event),r(u)}]},y=a.forwardRef((e,i)=>{c.validatePackage(Y.packageMetadata);const n=a.useRef(null),l=a.useRef(null),r=c.useDir(l,e.dir),{chip:h,id:o,style:u,tabIndex:P,disabled:g,size:m,className:q,ariaDescribedBy:I,ariaLabelledBy:T,ariaLabel:j,selection:R=p.selection,value:b=p.defaultValue,defaultData:E=p.defaultData,valueField:f=p.valueField,textField:k=p.textField,onChange:C,onDataChange:D}=e,z=a.useMemo(()=>h||x.Chip,[h,x.Chip]);a.useImperativeHandle(n,()=>({element:l.current,props:e})),a.useImperativeHandle(i,()=>n.current);const N=a.useCallback((s,d)=>{C&&n.current&&C.call(void 0,{value:s,target:n.current,syntheticEvent:d})},[C]),[O,w]=V(b||e.defaultValue,{selection:R,state:b},N),A=a.useCallback((s,d)=>{D&&n.current&&D.call(void 0,{value:s,target:n.current,syntheticEvent:d})},[D]),[F,B]=te(e.data||E,{state:e.data,valueField:f},A),L=a.useCallback((s,d)=>(s.push(d[f]),s),[f]),v=a.useMemo(()=>e.data||F,[e.data,F]),_=a.useMemo(()=>b||O,[b,O]),G=a.useMemo(()=>v.reduce(L,[]),[v,L]),M=a.useCallback(s=>c.getter(f)(s),[f]),H=a.useCallback(s=>c.getter(k)(s),[k]),[K,$]=ee({items:G}),J=c.useMouse(e,n);return a.createElement(S.ChipListSelectionContext.Provider,{value:[_,w]},a.createElement(S.ChipListFocusContext.Provider,{value:[K,$]},a.createElement(S.ChipListDataContext.Provider,{value:[v,B]},a.createElement("div",{ref:l,...J,role:g?void 0:"listbox",id:o,dir:r,style:u,tabIndex:c.getTabIndex(P,g,void 0),className:c.classNames("k-chip-list",{"k-rtl":r==="rtl","k-disabled":g,[`k-chip-list-${c.kendoThemeMaps.sizeMap[m]||m}`]:m},q),"aria-label":j,"aria-labelledby":T,"aria-describedby":I,"aria-orientation":"horizontal","aria-multiselectable":R==="multiple"},v.map((s,d)=>a.createElement(z,{role:"option",dataItem:s,size:m,key:[M(s),d].join("-"),text:H(s),value:M(s),ariaLabel:s.ariaLabel,svgIcon:s.svgIcon||void 0}))))))}),ae={id:t.string,className:t.string,tabIndex:t.number,data:t.any,defaultData:t.arrayOf(t.any),onDataChange:t.func,value:t.oneOfType([t.any,t.arrayOf(t.any)]),defaultValue:t.oneOfType([t.any,t.arrayOf(t.any)]),onChange:t.func,selection:t.oneOf(["single","none","multiple"]),textField:t.string,valueField:t.string,disabled:t.bool,dir:t.oneOf(["ltr","rtl"]),ariaLabelledBy:t.string,ariaDescribedBy:t.string,size:t.oneOf([null,"small","medium","large"])},p={chip:x.Chip,size:"medium",disabled:!1,defaultValue:null,defaultData:[],dir:"ltr",selection:"none",textField:"text",valueField:"value",removable:"removable"};y.displayName="KendoReactChipList";y.propTypes=ae;y.defaultProps=p;exports.ChipList=y;
