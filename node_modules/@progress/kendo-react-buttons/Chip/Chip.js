/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const S=require("react"),n=require("prop-types"),b=require("./chip-list-contexts.js"),t=require("@progress/kendo-react-common"),x=require("@progress/kendo-svg-icons"),r=require("./focus-reducer.js"),M=require("./data-reducer.js"),g=require("./selection-reducer.js"),R=require("../package-metadata.js");function D(e){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const c in e)if(c!=="default"){const i=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(s,c,i.get?i:{enumerable:!0,get:()=>e[c]})}}return s.default=e,Object.freeze(s)}const a=D(S),m=a.forwardRef((e,s)=>{t.validatePackage(R.packageMetadata);const c=a.useRef(null),i=a.useRef(null),k=t.useDir(i,e.dir);a.useImperativeHandle(c,()=>({element:i.current,props:e})),a.useImperativeHandle(s,()=>c.current);const[u,d]=a.useContext(b.ChipListSelectionContext),[I,o]=a.useContext(b.ChipListFocusContext),[,C]=a.useContext(b.ChipListDataContext),v=a.useMemo(()=>e.selected||(Array.isArray(u)?u.some(l=>l===e.value):u===e.value),[e.selected,e.value,u]),y=a.useMemo(()=>I===e.value,[e.value,I]);a.useEffect(()=>{y&&i.current&&i.current.focus()},[y]);const h=a.useCallback(l=>{d({type:g.SELECTION_ACTION.toggle,payload:e.value,event:l})},[d,e.value]),f=a.useCallback(l=>{e.removable&&(C({type:M.CHIP_DATA_ACTION.remove,payload:e.value,event:l}),o({type:r.FOCUS_ACTION.reset,payload:e.value,event:l}),d({type:g.SELECTION_ACTION.remove,payload:e.value,event:l}),e.onRemove&&e.onRemove.call(void 0,{target:c.current,syntheticEvent:l}))},[e.onRemove,e.value,e.removable,C,o,d]),N=a.useCallback(l=>{switch(l.keyCode){case t.Keys.left:o({type:r.FOCUS_ACTION.prev,payload:e.value,event:l});break;case t.Keys.right:o({type:r.FOCUS_ACTION.next,payload:e.value,event:l});break;case t.Keys.enter:d({type:g.SELECTION_ACTION.toggle,payload:e.value,event:l});break;case t.Keys.delete:f(l);break}e.onKeyDown&&e.onKeyDown.call(void 0,{target:c.current,syntheticEvent:l})},[e.onKeyDown,e.value,o,d,f]),O=a.useCallback(l=>{o({payload:e.value,type:r.FOCUS_ACTION.current,event:l}),e.onFocus&&e.onFocus.call(void 0,{target:c.current,syntheticEvent:l})},[e.onFocus,e.value,o]),E=a.useCallback(l=>{e.onBlur&&e.onBlur.call(void 0,{target:c.current,syntheticEvent:l})},[e.onBlur]),T=t.useMouse(e,c,{onClick:h});return a.createElement("div",{...T,role:e.role||"button",id:e.value,style:e.style,ref:i,dir:k,tabIndex:t.getTabIndex(e.tabIndex,e.disabled,void 0),className:t.classNames("k-chip",{"k-rtl":k==="rtl","k-disabled":e.disabled,"k-selected":v,"k-focus":y,[`k-chip-${t.kendoThemeMaps.sizeMap[e.size]||e.size}`]:e.size,[`k-rounded-${t.kendoThemeMaps.roundedMap[e.rounded]||e.rounded}`]:e.rounded,[`k-chip-${e.fillMode}`]:e.fillMode,[`k-chip-${e.fillMode}-${e.themeColor}`]:!!(e.fillMode&&e.themeColor)},e.className),"aria-pressed":e.role?void 0:v,"aria-disabled":e.disabled,"aria-describedby":e.ariaDescribedBy,"aria-keyshortcuts":e.removable?"Enter Delete":void 0,onFocus:O,onBlur:E,onKeyDown:N},v&&(e.selectedIcon||e.selectedSvgIcon)&&a.createElement(t.IconWrap,{className:"k-chip-icon",name:e.selectedIcon?t.toIconName(e.selectedIcon):void 0,icon:e.selectedSvgIcon,size:"small"}),(e.icon||e.svgIcon)&&a.createElement(t.IconWrap,{className:"k-chip-icon",name:e.icon?t.toIconName(e.icon):void 0,icon:e.svgIcon,size:"small"}),e.avatar&&a.createElement("div",{className:`k-chip-avatar k-avatar k-rounded-${e.avatar.rounded} k-avatar-md k-avatar-solid k-avatar-solid-primary`,style:e.avatar.style},a.createElement("span",{className:"k-avatar-image"},a.createElement("img",{src:e.avatar.image,alt:e.avatar.imageAlt}))),a.createElement("span",{className:"k-chip-content"},e.children!==void 0?e.children:e.text&&a.createElement("span",{"aria-label":e.ariaLabel||e.text,className:"k-chip-label"},e.text)),e.removable&&a.createElement("span",{className:"k-chip-actions"},a.createElement("span",{className:t.classNames("k-chip-action","k-chip-remove-action"),onClick:f},a.createElement(t.IconWrap,{name:e.removeIcon?t.toIconName(e.removeIcon):void 0,icon:e.removeSvgIcon||x.xCircleIcon,size:"small"}))))}),A={id:n.string,text:n.string,value:n.any,dir:n.oneOf(["ltr","rtl"]),removable:n.bool,removeIcon:n.string,removeIconSvg:t.svgIconPropType,disabled:n.bool,icon:n.string,svgIcon:t.svgIconPropType,selectedIcon:n.string,selectedIconSvg:t.svgIconPropType,onRemove:n.func,dataItem:n.any,selected:n.bool,ariaDescribedBy:n.string,size:n.oneOf([null,"small","medium","large"]),rounded:n.oneOf([null,"small","medium","large","full"]),fillMode:n.oneOf([null,"outline","solid"]),themeColor:n.oneOf([null,"base","info","success","warning","error"])},P={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};m.displayName="KendoReactChip";m.propTypes=A;m.defaultProps=P;exports.Chip=m;
