/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2024 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const ke=require("react"),n=require("prop-types"),a=require("@progress/kendo-react-common"),ye=require("./FloatingActionButtonItem.js"),he=require("../package-metadata.js"),K=require("./utils.js"),Ce=require("@progress/kendo-react-popup");function ve(d){const g=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(d){for(const r in d)if(r!=="default"){const k=Object.getOwnPropertyDescriptor(d,r);Object.defineProperty(g,r,k.get?k:{enumerable:!0,get:()=>d[r]})}}return g.default=d,Object.freeze(g)}const t=ve(ke),Ie=2,Ee=100,z=t.forwardRef((d,g)=>{a.validatePackage(he.packageMetadata);const{align:r=C.align,alignOffset:k,className:B,disabled:f,icon:O,svgIcon:w,iconClass:$,id:j,items:s,item:Y,text:v,positionMode:A=C.positionMode,size:I=C.size,style:ee,rounded:E=C.rounded,themeColor:F=C.themeColor,overlayStyle:te,tabIndex:ae,accessKey:ne,popupSettings:D={},modal:oe,onClick:P,onItemClick:q,onFocus:R,onBlur:_,onKeyDown:W,onOpen:Z,onClose:H,...se}=d,L=a.useZIndexContext(),X=L?L+Ie:Ee,U=t.useRef(null),i=t.useRef(null),le=t.useRef(null),ie=t.useRef(null),G=t.useCallback(()=>{i.current&&i.current.focus()},[]),p=t.useCallback(()=>({element:i.current,focus:G}),[G]);t.useImperativeHandle(U,p),t.useImperativeHandle(g,()=>U.current);const[c,u]=t.useState(!1),[x,m]=t.useState(!1),[y,l]=t.useState(-1),re=a.useId()+"-button-id",M=a.useDir(i,d.dir),h=M==="rtl",N=a.useId()+"-list-id";t.useEffect(()=>{K.position(i,r,k,h)},[i,r,k,h]),t.useEffect(()=>{x&&i&&i.current&&i.current.focus()},[x,i]);const b=t.useCallback((e,o)=>{s&&a.dispatchEvent(o?Z:H,e,p(),void 0)},[Z,H,s]),J=t.useCallback(e=>{!e.target||f||(!s&&P?a.dispatchEvent(P,e,p(),void 0):(u(!c),m(!0),l(c?-1:0),b(e,!c)))},[u,m,l,P,b,c,s,f]),ce=t.useCallback(e=>{m(!0),l(c?0:-1),R&&a.dispatchEvent(R,e,p(),void 0)},[R,m,l]),ue=t.useCallback(e=>{m(!1),u(!1),l(-1),a.dispatchEvent(_,e,p(),void 0),c&&b(e,!1)},[_,m,u,l,b]),de=t.useCallback(e=>{e.preventDefault()},[]),S=t.useCallback((e,o)=>{s&&(s[o].disabled||a.dispatchEvent(q,e,p(),{itemProps:s[o],itemIndex:o}))},[q]),fe=t.useCallback((e,o)=>{!e.target||!s||(l(o),u(!1),S(e,o),b(e,!1))},[l,u,S,b]),pe=t.useCallback(e=>{a.getActiveElement(document)===i.current&&e.preventDefault()},[i]),me=t.useCallback(e=>{const o=y,T=s?s.length:-1;if(e.altKey){!c&&e.keyCode===a.Keys.down&&(e.preventDefault(),u(!0),l(0)),c&&e.keyCode===a.Keys.up&&(e.preventDefault(),u(!1),l(-1));return}switch(e.keyCode){case a.Keys.enter:case a.Keys.space:o>=0&&S(e,o),s||J(e),e.preventDefault(),u(!c),l(c?-1:0);break;case a.Keys.esc:e.preventDefault(),u(!1),l(-1);break;case a.Keys.home:e.preventDefault(),l(0);break;case a.Keys.end:e.preventDefault(),l(T-1);break;case a.Keys.down:case a.Keys.right:e.preventDefault(),l(o+1>=T?0:o+1);break;case a.Keys.up:case a.Keys.left:e.preventDefault(),l(o-1<0?T-1:o-1);break}a.dispatchEvent(W,e,p(),void 0)},[W,y,l,h,u]),be=t.useMemo(()=>a.classNames("k-fab k-fab-solid",{"k-fab-sm":I==="small","k-fab-md":I==="medium","k-fab-lg":I==="large","k-disabled":f,"k-pos-absolute":A==="absolute","k-pos-fixed":A==="fixed","k-focus":x,[`k-rounded-${a.kendoThemeMaps.roundedMap[E]||E}`]:E,[`k-fab-solid-${F}`]:F},`k-${r.vertical}-${r.horizontal}`,B),[F,I,E,f,A,r,x,B]),ge=s&&s.map((e,o)=>t.createElement(ye.FloatingActionButtonItem,{...e,key:o,index:o,id:`${N}-${o}`,disabled:f||e.disabled,focused:y===o,dataItem:e,item:Y,className:a.classNames(e.className,K.getTextDirectionClass(M||"ltr",r.horizontal)),onClick:fe,onDown:pe})),Q=!!((O||w)&&!v),V=(i.current?i.current.offsetWidth:0)/2-32/2;return t.createElement(a.ZIndexContext.Provider,{value:X},t.createElement(t.Fragment,null,t.createElement("button",{ref:i,id:j||re,role:"button",type:"button","aria-disabled":f,"aria-expanded":s?c:void 0,"aria-haspopup":!!s,"aria-label":`${v||""} floatingactionbutton`,"aria-owns":s?N:void 0,"aria-activedescendant":y>=0&&s?`${N}-${y}`:void 0,tabIndex:a.getTabIndex(ae,f),accessKey:ne,dir:M,disabled:f,className:be,style:ee,onClick:J,onMouseDown:de,onFocus:ce,onBlur:ue,onKeyDown:me,...se},O||w?t.createElement(a.IconWrap,{className:"k-fab-icon",name:O,icon:w}):$?t.createElement("span",{role:"presentation",className:$}):null,v&&t.createElement("span",{className:"k-fab-text"},v)),oe&&c&&t.createElement("div",{className:"k-overlay",style:{zIndex:X,...te}}),t.createElement(Ce.Popup,{ref:ie,anchor:i.current,show:c,animate:D.animate,popupClass:a.classNames("k-popup-transparent k-fab-popup",D.popupClass),anchorAlign:D.anchorAlign||K.getAnchorAlign(r,h),popupAlign:D.popupAlign||K.getPopupAlign(r,h),style:{boxShadow:"none"}},t.createElement("ul",{ref:le,role:"menu","aria-labelledby":j,id:N,className:a.classNames("k-fab-items",{"k-fab-items-bottom":r.vertical!=="bottom","k-fab-items-top":r.vertical==="bottom"}),style:{paddingLeft:Q?V:void 0,paddingRight:Q?V:void 0}},ge))))});z.propTypes={className:n.string,style:n.object,id:n.string,dir:n.string,tabIndex:n.number,accessKey:n.string,disabled:n.bool,icon:n.string,svgIcon:a.svgIconPropType,iconClass:n.string,text:n.string,alignOffset:n.shape({x:n.oneOfType([n.number,n.string]),y:n.oneOfType([n.number,n.string])}),align:n.shape({vertical:n.oneOf(["top","middle","bottom"]),horizontal:n.oneOf(["start","center","end"])}),positionMode:n.oneOf(["absolute","fixed"]),size:n.oneOf([null,"small","medium","large"]),rounded:n.oneOf([null,"small","medium","large","full"]),themeColor:n.oneOf([null,"primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"]),modal:n.bool,overlayStyle:n.object};const C={align:{vertical:"bottom",horizontal:"end"},size:"medium",rounded:"full",themeColor:"primary",positionMode:"fixed"};z.displayName="KendoFloatingActionButton";exports.FloatingActionButton=z;
